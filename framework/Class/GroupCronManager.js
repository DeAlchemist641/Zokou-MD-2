const a64_0xa14b5e=a64_0x5270;function a64_0x5270(_0x30839e,_0x39e885){const _0x5d43f0=a64_0x1790();return a64_0x5270=function(_0x431b03,_0x4dc0c5){_0x431b03=_0x431b03-0xbf;let _0x17905b=_0x5d43f0[_0x431b03];if(a64_0x5270['YtmMZd']===undefined){var _0x527047=function(_0x257b50){const _0x24b1e7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x329e5e='',_0x44d3d3='',_0x3c29ac=_0x329e5e+_0x527047;for(let _0x2100f8=0x0,_0x404b22,_0xe5920a,_0xcd8398=0x0;_0xe5920a=_0x257b50['charAt'](_0xcd8398++);~_0xe5920a&&(_0x404b22=_0x2100f8%0x4?_0x404b22*0x40+_0xe5920a:_0xe5920a,_0x2100f8++%0x4)?_0x329e5e+=_0x3c29ac['charCodeAt'](_0xcd8398+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x404b22>>(-0x2*_0x2100f8&0x6)):_0x2100f8:0x0){_0xe5920a=_0x24b1e7['indexOf'](_0xe5920a);}for(let _0x2b2838=0x0,_0xc1d8af=_0x329e5e['length'];_0x2b2838<_0xc1d8af;_0x2b2838++){_0x44d3d3+='%'+('00'+_0x329e5e['charCodeAt'](_0x2b2838)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x44d3d3);};a64_0x5270['ZAMmim']=_0x527047,_0x30839e=arguments,a64_0x5270['YtmMZd']=!![];}const _0xc85cad=_0x5d43f0[0x0],_0x1ba964=_0x431b03+_0xc85cad,_0x49b330=_0x30839e[_0x1ba964];if(!_0x49b330){const _0x39200f=function(_0x3b9689){this['LQoOtA']=_0x3b9689,this['hCIhzR']=[0x1,0x0,0x0],this['IvhNij']=function(){return'newState';},this['zmeyRm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['SkYVIg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x39200f['prototype']['lsAxts']=function(){const _0x31025a=new RegExp(this['zmeyRm']+this['SkYVIg']),_0x2c95af=_0x31025a['test'](this['IvhNij']['toString']())?--this['hCIhzR'][0x1]:--this['hCIhzR'][0x0];return this['ctVbBp'](_0x2c95af);},_0x39200f['prototype']['ctVbBp']=function(_0x3e9d59){if(!Boolean(~_0x3e9d59))return _0x3e9d59;return this['hcflbU'](this['LQoOtA']);},_0x39200f['prototype']['hcflbU']=function(_0x51f375){for(let _0x15cdb8=0x0,_0x3de78b=this['hCIhzR']['length'];_0x15cdb8<_0x3de78b;_0x15cdb8++){this['hCIhzR']['push'](Math['round'](Math['random']())),_0x3de78b=this['hCIhzR']['length'];}return _0x51f375(this['hCIhzR'][0x0]);},new _0x39200f(a64_0x5270)['lsAxts'](),_0x17905b=a64_0x5270['ZAMmim'](_0x17905b),_0x30839e[_0x1ba964]=_0x17905b;}else _0x17905b=_0x49b330;return _0x17905b;},a64_0x5270(_0x30839e,_0x39e885);}(function(_0x2e5a69,_0x53a6f2){const _0x23066f=a64_0x5270,_0x21308e=_0x2e5a69();while(!![]){try{const _0x2ebc2a=parseInt(_0x23066f(0xc1))/0x1*(parseInt(_0x23066f(0xd3))/0x2)+parseInt(_0x23066f(0xc6))/0x3*(-parseInt(_0x23066f(0xc5))/0x4)+parseInt(_0x23066f(0xdd))/0x5*(-parseInt(_0x23066f(0xe1))/0x6)+-parseInt(_0x23066f(0xeb))/0x7+parseInt(_0x23066f(0xf0))/0x8+parseInt(_0x23066f(0xe3))/0x9*(-parseInt(_0x23066f(0xc0))/0xa)+-parseInt(_0x23066f(0xdf))/0xb*(-parseInt(_0x23066f(0xd0))/0xc);if(_0x2ebc2a===_0x53a6f2)break;else _0x21308e['push'](_0x21308e['shift']());}catch(_0x1073a8){_0x21308e['push'](_0x21308e['shift']());}}}(a64_0x1790,0xa0a5a));function a64_0x1790(){const _0xea1037=['icOGkIaQ','CKHOseC','mtu2ntm3meTVyLzzBa','mtG4ExPcuK1x','z3jVDxbjza','z3jVDxbFAwq','C2vHCMnO','ntm2BeXcz3jW','mJeYmtnsr292Dhu','y3jVBLrHC2S','C3rYAw5N','z3jVDxbtzxr0Aw5NvxbKyxrL','Dg9tDhjPBMC','yw5UB3vUy2vTzw50','Bwf0y2G','sxqNCYb0Aw1LihrVig9Wzw4GDgHLigrVB3jZig9Mig91CIbNCM91CceGv2vSy29TzsbLDMvYEw9Uzsb0BYb0AgLZigv4y2L0Aw5NignVBw11BML0Esb3AgvYzsb3zsbZAgfYzsbHBMqGBgvHCM4GDg9NzxrOzxiU','C2vUze1LC3nHz2u','BM9Kzs1JCM9U','mZe1otC4mfbtAgvRqq','Bxv0zq','Aw5PDgLHDgvdCM9U','mte5mdzIEMHSuhi','kcGOlISPkYKRksSK','veLnrv9At05f','BwfW','DhjPBq','Bg9N','C3bSAxq','yxbWBhK','yM90swq','shzNChC','ntiYmduXmevHCwjpBq','t1roDge','nZDkvhHzAhC','tM8Gy3jVBIbOyxmGyMvLBIbHy3rPDMf0zwqGzM9YihrOAxmGDgLTzq','nKfuu1bpsW','rMPswMO','mZzOr0fKCwO','CMvWBgfJzq','AuH6vem','zMLUza','ChvZAa','C3vIC3rYAw5N','ywfVuuu','lI4VlI4VC2v0','ntG5nJe3mefjtxzltW','y29UC3rYDwn0B3i','swXTu1u','C3rHCNrZv2L0Aa','z2v0q3jVBG','oti0ntCYmhLgrKrZrG','y1PYy1O','Dw5TDxrL'];a64_0x1790=function(){return _0xea1037;};return a64_0x1790();}const a64_0x4dc0c5=(function(){const _0x587610=a64_0x5270,_0x5cf346={'IlmSU':_0x587610(0xbf)};let _0x518dae=!![];return function(_0xdc1b9b,_0x2baf95){const _0x1ecdbe=_0x587610,_0x4784a2={'iHzTC':_0x5cf346[_0x1ecdbe(0xed)]},_0x20b573=_0x518dae?function(){const _0x12800f=_0x1ecdbe;if(_0x4784a2[_0x12800f(0xe5)]===_0x12800f(0xdc)){const _0xde3f8b=_0x2b2838?function(){const _0x1bfcbd=_0x12800f;if(_0x3e9d59){const _0x323e20=_0x32d909[_0x1bfcbd(0xda)](_0x157d1c,arguments);return _0xe4dba3=null,_0x323e20;}}:function(){};return _0x2c95af=![],_0xde3f8b;}else{if(_0x2baf95){const _0x48e6f0=_0x2baf95[_0x12800f(0xda)](_0xdc1b9b,arguments);return _0x2baf95=null,_0x48e6f0;}}}:function(){};return _0x518dae=![],_0x20b573;};}()),a64_0x431b03=a64_0x4dc0c5(this,function(){const _0x57dec0=a64_0x5270;return a64_0x431b03[_0x57dec0(0xca)]()[_0x57dec0(0xc4)](_0x57dec0(0xd4))[_0x57dec0(0xca)]()[_0x57dec0(0xec)](a64_0x431b03)[_0x57dec0(0xc4)](_0x57dec0(0xd4));});a64_0x431b03();const cron=require(a64_0xa14b5e(0xcf)),s=require(a64_0xa14b5e(0xea)),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require('../../bdd/cron');class GroupCronManager{static #crons=[];static['initiateCron'](_0x4f475e,_0x2bd681,_0x1bd909,_0x411965){const _0x3fb229=a64_0xa14b5e,_0x5cb9ca={'JPfIB':'gCObC','IBQde':_0x3fb229(0xde),'cZrcZ':_0x3fb229(0xf2)};let [_0xe08148,_0xe4eb29]=_0x4f475e[_0x3fb229(0xd9)](':')[_0x3fb229(0xd6)](_0x1d88d0=>_0x1d88d0[_0x3fb229(0xd7)]());if(_0xe08148[_0x3fb229(0xee)]('0'))_0xe08148=_0xe08148[_0x3fb229(0xe4)]('0','');switch(_0x1bd909){case _0x3fb229(0xd1):const _0x547333=cron['schedule'](_0xe4eb29+'\x20'+_0xe08148+_0x3fb229(0xf3),async()=>{const _0x169773=_0x3fb229;if(_0x5cb9ca['JPfIB']===_0x5cb9ca['IBQde']){const _0x411d02=_0x21debb['apply'](_0x515f91,arguments);return _0x1a59b2=null,_0x411d02;}else try{await _0x411965[_0x169773(0xc9)](_0x2bd681,_0x169773(0xcb)),await _0x411965[_0x169773(0xce)](_0x2bd681,{'text':'Tick\x20tock,\x20the\x20exciting\x20discussions\x20are\x20coming\x20to\x20an\x20end.\x20We\x20thank\x20you\x20for\x20your\x20active\x20participation;\x20now\x20it\x27s\x20time\x20to\x20close\x20the\x20group\x20for\x20today.'});}catch(_0x3f8126){console[_0x169773(0xd8)]('[AUTOMUTE-ERROR]\x20:',_0x3f8126);}},{'timezone':s[_0x3fb229(0xd5)]});GroupCronManager.#crons[_0x3fb229(0xe7)]({'id':_0x4f475e,'groupId':_0x2bd681,'action':_0x1bd909,'botId':_0x411965[_0x3fb229(0xdb)],'cronTask':_0x547333});break;case _0x5cb9ca[_0x3fb229(0xf1)]:const _0xdcb6a6=cron['schedule'](_0xe4eb29+'\x20'+_0xe08148+_0x3fb229(0xf3),async()=>{const _0x530c5d=_0x3fb229;try{await _0x411965[_0x530c5d(0xc9)](_0x2bd681,'not_announcement'),await _0x411965[_0x530c5d(0xce)](_0x2bd681,{'text':_0x530c5d(0xcd)});}catch(_0x5d9bfb){console['log']('[AUTOUNMUTE-ERROR]\x20:',_0x5d9bfb);}},{'timezone':s[_0x3fb229(0xd5)]});GroupCronManager.#crons['push']({'id':_0x4f475e,'groupId':_0x2bd681,'action':_0x1bd909,'botId':_0x411965[_0x3fb229(0xdb)],'cronTask':_0xdcb6a6});break;}}static[a64_0xa14b5e(0xef)](_0x3e4bcc,_0x1399b7,_0x1a6007){const _0x2a63f7=a64_0xa14b5e;return GroupCronManager.#crons[_0x2a63f7(0xe6)](_0x23c4b2=>_0x23c4b2['id']===_0x3e4bcc&&_0x23c4b2[_0x2a63f7(0xc2)]===_0x1399b7&&_0x23c4b2[_0x2a63f7(0xdb)]===_0x1a6007);}static['addCron'](_0x48c57b,_0x446b91,_0xdf7677,_0x3b3ca1,_0x215efc){const _0xd2690e=a64_0xa14b5e,_0xa9252a=cronExists(_0x48c57b,_0x446b91,_0x3b3ca1);if(_0xa9252a)throw{'type':'UnAutorised','reason':'A\x20cron\x20has\x20already\x20been\x20activated\x20for\x20this\x20time'};GroupCronManager[_0xd2690e(0xd2)](_0x48c57b,_0x446b91,_0xdf7677,_0x215efc),addCronInDB(_0x48c57b,_0x446b91,_0x3b3ca1,_0xdf7677);}static['removeCron'](_0x694a27,_0x16dffb,_0x52ce5e){const _0xb56685=a64_0xa14b5e,_0x5b1aaa={'bBRyV':'UnAutorised','aaoQE':function(_0x318b51,_0x3d3ed7,_0x5d681,_0x4dca77){return _0x318b51(_0x3d3ed7,_0x5d681,_0x4dca77);}},_0x2d80ca=GroupCronManager['getCron'](_0x694a27,_0x16dffb,_0x52ce5e);if(!_0x2d80ca)throw{'type':_0x5b1aaa['bBRyV'],'reason':_0xb56685(0xe0)};_0x2d80ca[_0xb56685(0xc7)]['stop'](),_0x5b1aaa[_0xb56685(0xe9)](deleteCron,_0x694a27,_0x16dffb,_0x52ce5e);}static['initialiseCronsOnStart'](_0x361bc2){const _0x27aaeb=a64_0xa14b5e,_0x40a372=getCronsByBot(_0x361bc2[_0x27aaeb(0xdb)]);if(_0x40a372['length']===0x0)return;console[_0x27aaeb(0xd8)]('Initialisation\x20des\x20crons\x20pour\x20le\x20bot\x20:\x20',_0x361bc2[_0x27aaeb(0xdb)]),_0x40a372['forEach'](_0x55be3f=>{const _0x5722c8=_0x27aaeb;GroupCronManager[_0x5722c8(0xd2)](_0x55be3f['id'],_0x55be3f[_0x5722c8(0xc3)],_0x55be3f['action'],_0x361bc2);});}static['parseHrMin'](_0x1e2003){const _0x166b4b=a64_0xa14b5e,_0x45d731={'FjRZj':_0x166b4b(0xc8)};if(typeof _0x1e2003!==_0x45d731[_0x166b4b(0xe2)])return null;const _0x208716=_0x1e2003['trim']()[_0x166b4b(0xcc)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x208716)return null;return{'hr':_0x208716[0x1]['startsWith']('0')?_0x208716[0x1][_0x166b4b(0xe8)](0x1):_0x208716[0x1],'min':_0x208716[0x3]};}}module['exports']=GroupCronManager;