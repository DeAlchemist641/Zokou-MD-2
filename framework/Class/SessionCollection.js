const a66_0x592ec3=a66_0x54a6;(function(_0x54dc4c,_0x42f542){const _0x45641a=a66_0x54a6,_0x2eae1a=_0x54dc4c();while(!![]){try{const _0x4cb8e3=parseInt(_0x45641a(0x1c8))/0x1+parseInt(_0x45641a(0x1c0))/0x2+parseInt(_0x45641a(0x1b6))/0x3*(-parseInt(_0x45641a(0x1cc))/0x4)+-parseInt(_0x45641a(0x1bf))/0x5*(parseInt(_0x45641a(0x1c9))/0x6)+parseInt(_0x45641a(0x1b2))/0x7+parseInt(_0x45641a(0x1ba))/0x8*(parseInt(_0x45641a(0x1c2))/0x9)+parseInt(_0x45641a(0x1af))/0xa;if(_0x4cb8e3===_0x42f542)break;else _0x2eae1a['push'](_0x2eae1a['shift']());}catch(_0x1dfe63){_0x2eae1a['push'](_0x2eae1a['shift']());}}}(a66_0x3067,0x48187));const a66_0x3002f7=(function(){let _0x3d4673=!![];return function(_0x1af8e7,_0x314fde){const _0x3a744c=_0x3d4673?function(){const _0x2554fe=a66_0x54a6;if(_0x2554fe(0x1b1)!=='VbpUN'){if(_0x314fde){const _0x2d7dfd=_0x314fde[_0x2554fe(0x1b8)](_0x1af8e7,arguments);return _0x314fde=null,_0x2d7dfd;}}else{const _0x4f95fb=_0xf6a690['apply'](_0x16519d,arguments);return _0x46e36b=null,_0x4f95fb;}}:function(){};return _0x3d4673=![],_0x3a744c;};}()),a66_0x3a3f04=a66_0x3002f7(this,function(){const _0x31b334=a66_0x54a6,_0x1a3441={'DboGR':_0x31b334(0x1c5)};return a66_0x3a3f04[_0x31b334(0x1c3)]()['search'](_0x1a3441[_0x31b334(0x1ad)])['toString']()[_0x31b334(0x1c4)](a66_0x3a3f04)[_0x31b334(0x1be)]('(((.+)+)+)+$');});function a66_0x54a6(_0xa6e8a8,_0x3a37c1){const _0xb81adf=a66_0x3067();return a66_0x54a6=function(_0x3a3f04,_0x3002f7){_0x3a3f04=_0x3a3f04-0x1ab;let _0x3067d0=_0xb81adf[_0x3a3f04];if(a66_0x54a6['qPqNeb']===undefined){var _0x54a684=function(_0x544631){const _0x29e06c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x416c27='',_0x2bc027='',_0x1fde4d=_0x416c27+_0x54a684;for(let _0x6e539b=0x0,_0x423f2a,_0x5e54fc,_0x420894=0x0;_0x5e54fc=_0x544631['charAt'](_0x420894++);~_0x5e54fc&&(_0x423f2a=_0x6e539b%0x4?_0x423f2a*0x40+_0x5e54fc:_0x5e54fc,_0x6e539b++%0x4)?_0x416c27+=_0x1fde4d['charCodeAt'](_0x420894+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x423f2a>>(-0x2*_0x6e539b&0x6)):_0x6e539b:0x0){_0x5e54fc=_0x29e06c['indexOf'](_0x5e54fc);}for(let _0x2764c8=0x0,_0x317dab=_0x416c27['length'];_0x2764c8<_0x317dab;_0x2764c8++){_0x2bc027+='%'+('00'+_0x416c27['charCodeAt'](_0x2764c8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2bc027);};a66_0x54a6['wkimMT']=_0x54a684,_0xa6e8a8=arguments,a66_0x54a6['qPqNeb']=!![];}const _0x302e67=_0xb81adf[0x0],_0x276763=_0x3a3f04+_0x302e67,_0x5c4a96=_0xa6e8a8[_0x276763];if(!_0x5c4a96){const _0x55ed3f=function(_0x1817d2){this['oWDQlw']=_0x1817d2,this['wcTiMs']=[0x1,0x0,0x0],this['UKDHPf']=function(){return'newState';},this['BLwTAa']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['IXBROy']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x55ed3f['prototype']['NjIPER']=function(){const _0x43b17d=new RegExp(this['BLwTAa']+this['IXBROy']),_0x4a6d79=_0x43b17d['test'](this['UKDHPf']['toString']())?--this['wcTiMs'][0x1]:--this['wcTiMs'][0x0];return this['PPORvi'](_0x4a6d79);},_0x55ed3f['prototype']['PPORvi']=function(_0x1e6989){if(!Boolean(~_0x1e6989))return _0x1e6989;return this['CGwMCR'](this['oWDQlw']);},_0x55ed3f['prototype']['CGwMCR']=function(_0x5d000e){for(let _0x1bb91b=0x0,_0x11c7f3=this['wcTiMs']['length'];_0x1bb91b<_0x11c7f3;_0x1bb91b++){this['wcTiMs']['push'](Math['round'](Math['random']())),_0x11c7f3=this['wcTiMs']['length'];}return _0x5d000e(this['wcTiMs'][0x0]);},new _0x55ed3f(a66_0x54a6)['NjIPER'](),_0x3067d0=a66_0x54a6['wkimMT'](_0x3067d0),_0xa6e8a8[_0x276763]=_0x3067d0;}else _0x3067d0=_0x5c4a96;return _0x3067d0;},a66_0x54a6(_0xa6e8a8,_0x3a37c1);}a66_0x3a3f04();const sessionDb=require('../../bdd/session'),authDb=require('../../bdd/auth'),axios=require(a66_0x592ec3(0x1ab));class SessionManager{['sessionApi']=a66_0x592ec3(0x1ca);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x310078,_0x918b1d=null){const _0x2ca135=a66_0x592ec3;this.#userId=_0x310078,this.#userSession=_0x918b1d;const _0x45b0e1=sessionDb[_0x2ca135(0x1b9)](this.#userId);if(!_0x45b0e1){sessionDb['addSession'](_0x310078,this.#userSession);if(_0x918b1d)this.#shouldReloadSession=!![];return;}if(_0x45b0e1?.['id']==this.#userSession){if(_0x918b1d==null)return;return this.#checkIfShouldReconnect();}authDb[_0x2ca135(0x1c1)](this.#userId),sessionDb[_0x2ca135(0x1b5)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async[a66_0x592ec3(0x1b3)](_0x489da4){const _0x2ed30d=a66_0x592ec3,_0x48a993={'nQIDV':_0x2ed30d(0x1cb)},_0xca23fb=await axios[_0x2ed30d(0x1b7)](this[_0x2ed30d(0x1b4)]+_0x2ed30d(0x1bd)+_0x489da4+_0x2ed30d(0x1c6));if(_0xca23fb?.['data']?.[_0x2ed30d(0x1bc)])return'HpuaI'!==_0x48a993['nQIDV']?_0xca23fb['data']['documents']:_0x2b19d2[_0x2ed30d(0x1b0)][_0x2ed30d(0x1c7)];else throw new Error();}get['shouldReloadSession'](){return this.#shouldReloadSession;}async[a66_0x592ec3(0x1ae)](){const _0x209483=a66_0x592ec3,_0x558b63=await this[_0x209483(0x1b3)](this.#userSession);authDb[_0x209483(0x1bb)](this.#userId,_0x558b63);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}function a66_0x3067(){const _0x3ba82c=['zM91BMq','l3nLC3nPB24V','C2vHCMnO','nJGWmtb1sffssgS','nJG0mZaYDfrjy21x','CMvTB3zLrg9JC0zYB21jza','mtq3nKjHr0HdsG','Dg9tDhjPBMC','y29UC3rYDwn0B3i','kcGOlISPkYKRksSK','p3jLBw92zt10CNvL','zg9JDw1LBNrZ','mtGWnZi4zKzbALDQ','mtKYy0n3vgPu','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','v3btEhm','mta4Afz2wevz','yxHPB3m','zxHWB3j0CW','rgjVr1i','CMvSB2fKu2vZC2LVBG','nZqYnZGWr1L0Eg5i','zgf0yq','ww9Ns0K','odu3nuDPvvPQyG','zMv0y2HgB3jeB2nZ','C2vZC2LVBKfWAq','ywrKu2vZC2LVBG','mtK0ndnqzKXWDg0','z2v0','yxbWBhK','z2v0u2vZC2LVBG','mtq5odrftwTqs3G','Bg9HzhneB2nZ'];a66_0x3067=function(){return _0x3ba82c;};return a66_0x3067();}module[a66_0x592ec3(0x1ac)]=SessionManager;