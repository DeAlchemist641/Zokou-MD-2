const a66_0x208b8b=a66_0x4ce6;(function(_0x513644,_0x2d0c37){const _0xa3356b=a66_0x4ce6,_0x260bbd=_0x513644();while(!![]){try{const _0x28559d=parseInt(_0xa3356b(0x87))/0x1*(parseInt(_0xa3356b(0x85))/0x2)+parseInt(_0xa3356b(0x7d))/0x3+parseInt(_0xa3356b(0x75))/0x4*(-parseInt(_0xa3356b(0x6f))/0x5)+-parseInt(_0xa3356b(0x7c))/0x6*(-parseInt(_0xa3356b(0x7b))/0x7)+parseInt(_0xa3356b(0x84))/0x8+-parseInt(_0xa3356b(0x7a))/0x9*(-parseInt(_0xa3356b(0x77))/0xa)+-parseInt(_0xa3356b(0x81))/0xb;if(_0x28559d===_0x2d0c37)break;else _0x260bbd['push'](_0x260bbd['shift']());}catch(_0xe79a5d){_0x260bbd['push'](_0x260bbd['shift']());}}}(a66_0x34c9,0x26545));const a66_0x7a6ddb=(function(){let _0x183be9=!![];return function(_0x2fcfd4,_0x3f115d){const _0x2eddba=_0x183be9?function(){if(_0x3f115d){const _0x9d173a=_0x3f115d['apply'](_0x2fcfd4,arguments);return _0x3f115d=null,_0x9d173a;}}:function(){};return _0x183be9=![],_0x2eddba;};}()),a66_0x2305fc=a66_0x7a6ddb(this,function(){const _0x59504d=a66_0x4ce6;return a66_0x2305fc['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a66_0x2305fc)['search'](_0x59504d(0x88));});function a66_0x34c9(){const _0x3112ae=['mtC1mtKZmxDlsfbfyG','mtm1otC3ohfHwxPYyq','nMvJsfbcBW','ntC1mJGWs0jpz3HK','ywrKu2vZC2LVBG','lI4VlI4VyMrKl3nLC3nPB24','C2vZC2LVBKfWAq','otq2mta3ofrLDe90EG','Bg9HzhneB2nZ','D0D3EKq','mte2ndmZnNj2txr1CW','mtu4y1bQvvDb','l3nLC3nPB24V','mZC5nfrwthrnvW','kcGOlISPkYKRksSK','mtbXvNDLtwG','yxHPB3m','zgf0yq','zg9JDw1LBNrZ','lI4VlI4VyMrKl2f1DgG','u0rWEhy','mtC2otjjwxHwzLm','zMv0y2HgB3jeB2nZ','mtbjtgLfywW','zM91BMq','C2HVDwXKuMvSB2fKu2vZC2LVBG'];a66_0x34c9=function(){return _0x3112ae;};return a66_0x34c9();}function a66_0x4ce6(_0x83b1c0,_0x52e7dd){const _0x41c46f=a66_0x34c9();return a66_0x4ce6=function(_0x2305fc,_0x7a6ddb){_0x2305fc=_0x2305fc-0x6f;let _0x34c98a=_0x41c46f[_0x2305fc];if(a66_0x4ce6['LRLWaO']===undefined){var _0x4ce6e4=function(_0x50a2e4){const _0x327faa='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x53ea96='',_0x1636ac='',_0x2a9f5b=_0x53ea96+_0x4ce6e4;for(let _0x3b5a53=0x0,_0xb29f29,_0x21f730,_0x49d4c4=0x0;_0x21f730=_0x50a2e4['charAt'](_0x49d4c4++);~_0x21f730&&(_0xb29f29=_0x3b5a53%0x4?_0xb29f29*0x40+_0x21f730:_0x21f730,_0x3b5a53++%0x4)?_0x53ea96+=_0x2a9f5b['charCodeAt'](_0x49d4c4+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xb29f29>>(-0x2*_0x3b5a53&0x6)):_0x3b5a53:0x0){_0x21f730=_0x327faa['indexOf'](_0x21f730);}for(let _0x278b18=0x0,_0x1db712=_0x53ea96['length'];_0x278b18<_0x1db712;_0x278b18++){_0x1636ac+='%'+('00'+_0x53ea96['charCodeAt'](_0x278b18)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1636ac);};a66_0x4ce6['zgtbqH']=_0x4ce6e4,_0x83b1c0=arguments,a66_0x4ce6['LRLWaO']=!![];}const _0x402d4a=_0x41c46f[0x0],_0x355ff0=_0x2305fc+_0x402d4a,_0x1c2334=_0x83b1c0[_0x355ff0];if(!_0x1c2334){const _0x5113b9=function(_0x545aa5){this['KDniTP']=_0x545aa5,this['YcUgdb']=[0x1,0x0,0x0],this['cEqJBp']=function(){return'newState';},this['zclVBX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['FoAkzg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5113b9['prototype']['LIqnXm']=function(){const _0x170a67=new RegExp(this['zclVBX']+this['FoAkzg']),_0x4940dc=_0x170a67['test'](this['cEqJBp']['toString']())?--this['YcUgdb'][0x1]:--this['YcUgdb'][0x0];return this['hHgjEZ'](_0x4940dc);},_0x5113b9['prototype']['hHgjEZ']=function(_0x1070b5){if(!Boolean(~_0x1070b5))return _0x1070b5;return this['ioBLlZ'](this['KDniTP']);},_0x5113b9['prototype']['ioBLlZ']=function(_0x31ad13){for(let _0x5d940a=0x0,_0x127aa0=this['YcUgdb']['length'];_0x5d940a<_0x127aa0;_0x5d940a++){this['YcUgdb']['push'](Math['round'](Math['random']())),_0x127aa0=this['YcUgdb']['length'];}return _0x31ad13(this['YcUgdb'][0x0]);},new _0x5113b9(a66_0x4ce6)['LIqnXm'](),_0x34c98a=a66_0x4ce6['zgtbqH'](_0x34c98a),_0x83b1c0[_0x355ff0]=_0x34c98a;}else _0x34c98a=_0x1c2334;return _0x34c98a;},a66_0x4ce6(_0x83b1c0,_0x52e7dd);}a66_0x2305fc();const sessionDb=require(a66_0x208b8b(0x7f)),authDb=require(a66_0x208b8b(0x73)),axios=require(a66_0x208b8b(0x70));class SessionManager{['sessionApi']='https://zokou-session-api.vercel.app';#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x30a478,_0x332c38=null){const _0x331380=a66_0x208b8b,_0x1fc8b9={'wGwzD':function(_0x5d4b65,_0x349113){return _0x5d4b65!==_0x349113;},'SDpxv':function(_0x463801,_0x27454c){return _0x463801==_0x27454c;}};this.#userId=_0x30a478,this.#userSession=_0x332c38;const _0x64692=sessionDb['getSession'](this.#userId);if(!_0x64692){sessionDb[_0x331380(0x7e)](_0x30a478,this.#userSession);if(_0x332c38)this.#shouldReloadSession=!![];return;}if(_0x64692?.['id']==this.#userSession){if(_0x1fc8b9[_0x331380(0x83)]('PUQFp','UrlgH')){if(_0x1fc8b9[_0x331380(0x74)](_0x332c38,null))return;return this.#checkIfShouldReconnect();}else return _0x179a2a['data'][_0x331380(0x72)];}authDb['removeDocsFromId'](this.#userId),sessionDb['addSession'](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async[a66_0x208b8b(0x76)](_0x3afbe3){const _0x1071e1=a66_0x208b8b,_0x5285c3=await axios['get'](this[_0x1071e1(0x80)]+_0x1071e1(0x86)+_0x3afbe3+'?remove=true');if(_0x5285c3?.[_0x1071e1(0x71)]?.[_0x1071e1(0x78)])return _0x5285c3['data'][_0x1071e1(0x72)];else throw new Error();}get[a66_0x208b8b(0x79)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x1bfe18=a66_0x208b8b,_0x4ef7a5=await this[_0x1bfe18(0x76)](this.#userSession);authDb[_0x1bfe18(0x82)](this.#userId,_0x4ef7a5);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module['exports']=SessionManager;