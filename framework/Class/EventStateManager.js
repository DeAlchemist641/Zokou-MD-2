const a63_0x259f0e=a63_0x3601;function a63_0x3601(_0x4ce368,_0x12fc86){const _0x2f71ae=a63_0x308f();return a63_0x3601=function(_0xcf6676,_0x3ee1d9){_0xcf6676=_0xcf6676-0xb9;let _0x308f7f=_0x2f71ae[_0xcf6676];if(a63_0x3601['ZWYpyX']===undefined){var _0x3601ea=function(_0x4f73ec){const _0x2c8eb6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3c27ec='',_0x2a6fe6='',_0x1ad3ff=_0x3c27ec+_0x3601ea;for(let _0x34f0da=0x0,_0x3512cc,_0x24c55c,_0x312469=0x0;_0x24c55c=_0x4f73ec['charAt'](_0x312469++);~_0x24c55c&&(_0x3512cc=_0x34f0da%0x4?_0x3512cc*0x40+_0x24c55c:_0x24c55c,_0x34f0da++%0x4)?_0x3c27ec+=_0x1ad3ff['charCodeAt'](_0x312469+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3512cc>>(-0x2*_0x34f0da&0x6)):_0x34f0da:0x0){_0x24c55c=_0x2c8eb6['indexOf'](_0x24c55c);}for(let _0xd3dc08=0x0,_0x3dbc99=_0x3c27ec['length'];_0xd3dc08<_0x3dbc99;_0xd3dc08++){_0x2a6fe6+='%'+('00'+_0x3c27ec['charCodeAt'](_0xd3dc08)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2a6fe6);};a63_0x3601['nFRNst']=_0x3601ea,_0x4ce368=arguments,a63_0x3601['ZWYpyX']=!![];}const _0x28f8c0=_0x2f71ae[0x0],_0x1c47ec=_0xcf6676+_0x28f8c0,_0x1d2265=_0x4ce368[_0x1c47ec];if(!_0x1d2265){const _0x239a04=function(_0x54576c){this['ruzxMp']=_0x54576c,this['GkXLKA']=[0x1,0x0,0x0],this['PavjYY']=function(){return'newState';},this['ranech']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['LIAiTk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x239a04['prototype']['oovyxp']=function(){const _0x16e85b=new RegExp(this['ranech']+this['LIAiTk']),_0x574861=_0x16e85b['test'](this['PavjYY']['toString']())?--this['GkXLKA'][0x1]:--this['GkXLKA'][0x0];return this['oHpDHN'](_0x574861);},_0x239a04['prototype']['oHpDHN']=function(_0x2ca957){if(!Boolean(~_0x2ca957))return _0x2ca957;return this['vjTumH'](this['ruzxMp']);},_0x239a04['prototype']['vjTumH']=function(_0x55f083){for(let _0x3ccb0a=0x0,_0x39e551=this['GkXLKA']['length'];_0x3ccb0a<_0x39e551;_0x3ccb0a++){this['GkXLKA']['push'](Math['round'](Math['random']())),_0x39e551=this['GkXLKA']['length'];}return _0x55f083(this['GkXLKA'][0x0]);},new _0x239a04(a63_0x3601)['oovyxp'](),_0x308f7f=a63_0x3601['nFRNst'](_0x308f7f),_0x4ce368[_0x1c47ec]=_0x308f7f;}else _0x308f7f=_0x1d2265;return _0x308f7f;},a63_0x3601(_0x4ce368,_0x12fc86);}(function(_0x3366f2,_0x341387){const _0xf0b3f9=a63_0x3601,_0x4c2b79=_0x3366f2();while(!![]){try{const _0x235389=-parseInt(_0xf0b3f9(0xb9))/0x1*(-parseInt(_0xf0b3f9(0xf2))/0x2)+parseInt(_0xf0b3f9(0xe6))/0x3*(parseInt(_0xf0b3f9(0xd0))/0x4)+-parseInt(_0xf0b3f9(0xd1))/0x5*(parseInt(_0xf0b3f9(0xf0))/0x6)+parseInt(_0xf0b3f9(0xf4))/0x7+parseInt(_0xf0b3f9(0xf6))/0x8*(-parseInt(_0xf0b3f9(0xf7))/0x9)+parseInt(_0xf0b3f9(0xfe))/0xa+-parseInt(_0xf0b3f9(0xc4))/0xb*(parseInt(_0xf0b3f9(0xc3))/0xc);if(_0x235389===_0x341387)break;else _0x4c2b79['push'](_0x4c2b79['shift']());}catch(_0x1aeb27){_0x4c2b79['push'](_0x4c2b79['shift']());}}}(a63_0x308f,0x65107));const a63_0x3ee1d9=(function(){let _0x3dd93d=!![];return function(_0x419547,_0x53b796){const _0x52f370=_0x3dd93d?function(){if(_0x53b796){const _0x503e4f=_0x53b796['apply'](_0x419547,arguments);return _0x53b796=null,_0x503e4f;}}:function(){};return _0x3dd93d=![],_0x52f370;};}()),a63_0xcf6676=a63_0x3ee1d9(this,function(){const _0x5754c=a63_0x3601;return a63_0xcf6676[_0x5754c(0xbf)]()['search'](_0x5754c(0xc2))[_0x5754c(0xbf)]()[_0x5754c(0x100)](a63_0xcf6676)['search'](_0x5754c(0xc2));});a63_0xcf6676();const NodeCache=require(a63_0x259f0e(0xe9)),initializeDb=require('../../bdd/_index'),{zokou}=require(a63_0x259f0e(0xcb));function a63_0x308f(){const _0x16e18d=['ihvWzgf0zwqGD2L0AcbHy3rPB24G','z2v0','Dg9tDhjPBMC','icHQAwqSigv0yxqPiaOGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicbptIbdt05gteLdvcHQAwqPierpifvqrefursbtrvqGzxrHDca9igv4y2X1zgvKlMv0yxq7cIaGicaGicaG','Eff0u1y','kcGOlISPkYKRksSK','mtjgtgPxD0e','ntmYmZC4rNrqC0zg','vgzOzve','Aw5JBhvKzxm','r25Nv3e','cIaGicaGicaGq1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','sMLKia','D2fYBG','lI4VEM9RB3u','zw5HyMXLza','vgHLigfJDgLVBIa','ihDPDgGGywn0Aw9Uia','ywn0Aw9UlW','mtqXndq4ne1RA2DLta','mtmWs1rOBM1K','oIb0BYbJAgfUz2uGDgHLigfJDgLVBIb0BYa','Dg9mB3DLCKnHC2u','cIaGicaGicaGsu5trvjuieLove8G','DhjPBq','AM9PBG','q0TrvgK','igzVCIbQAwqG','s25VANC','r0TAA1a','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','zxjYB3i','uMvsyMi','zxHWB3j0CW','ywn0Aw9U','C2vHCMnO','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','zxrHDa','zgLZywjSzwq','iGOGicaGicaGicKkicaGicaG','u1rbvevt','m2XPr2D6qW','igfJDgLVBI8','ww91igrVig5VDcbOyxzLihrOzsbUzwnLC3nHCNKGCgvYBwLZC2LVBNm','BM9Kzs1JywnOzq','ChjLCgfYzq','DMfSDwvZ','C2v0','igLZig5VDYbLBMfIBgvK','u0vmrunuigv0yxqGrLjptsa','igLZig5VDcb2ywXPzc4GvMfSAwqGywn0Aw9UCYbHCMu6ia','mti1mZqWz3rlC3HQ','zw5HyMXLzezVCKPPza','mZaYEgHltgnL','rxjYB3iGC2v0DgLUzYa','ntC2nZaYn0H6D3PjyG','oIb0BYbLBMfIBguGAxqk','mJm2ohjrALv4AG','mty1mtv1EgHHquS','qunusu9ouW','u0vmrunuigfJDgLVBIbguK9nia','yxbWBhK','CMvTB3zL','C3rHCNrZv2L0Aa','CNvU','mte2ndqWq3HSvKDy','rgHmEfC','y29UC3rYDwn0B3i','igLZigfSCMvHzhKGzgLZywjSzwq','vgHPCYbJB21Tyw5KigLZig9UBhKGyxzHAwXHyMXLigzVCIbNCM91Chm','mJm4mvvSs3j4DG','rLnZr0O','igLZig5VDYa','rxjYB3iGDxbKyxrPBMCGAMLKia'];a63_0x308f=function(){return _0x16e18d;};return a63_0x308f();}class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'on','disabled':'off'};[a63_0x259f0e(0xf8)]={'remove':'remove','delete':'delete','warn':a63_0x259f0e(0xca)};#defaultAction=this['ACTIONS']['remove'];#defaultState=this['STATES'][a63_0x259f0e(0xe3)];#cache;constructor(_0x5132f7,_0x2a6848=new NodeCache()){this.#tableName=_0x5132f7,this.#cache=_0x2a6848,this.#createTable();}#createTable(){const _0x50efa9=a63_0x259f0e;this.#db[_0x50efa9(0xea)](_0x50efa9(0xc8)+this.#tableName+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultState+_0x50efa9(0xe1)+this.#defaultAction+_0x50efa9(0xe4))['run']();}#addOrUpdateJid(_0x4c54f1,_0x5b7090=this.#defaultState){const _0xf30109=a63_0x259f0e;this.#db['prepare'](_0xf30109(0xd4)+this.#tableName+_0xf30109(0xc0))[_0xf30109(0xfd)](_0x4c54f1,_0x5b7090);const _0x476f87=this.#cache['get'](_0x4c54f1)||{};this.#cache[_0xf30109(0xec)](_0x4c54f1,{..._0x476f87,'etat':_0x5b7090});}#updateJidAction(_0x1a46f2,_0x40b7f8=this.#defaultAction){const _0x49a8d8=a63_0x259f0e;try{this.#db[_0x49a8d8(0xea)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+'\x20(jid,\x20action)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20action\x20=\x20excluded.action;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['run'](_0x1a46f2,_0x40b7f8);const _0x1da1e5=this.#cache['get'](_0x1a46f2)||{};this.#cache['set'](_0x1a46f2,{..._0x1da1e5,'action':_0x40b7f8}),console['log'](_0x49a8d8(0xc9)+_0x1a46f2+_0x49a8d8(0xbd)+_0x40b7f8);}catch(_0x3edfd3){console[_0x49a8d8(0xdc)](_0x49a8d8(0xbc)+_0x1a46f2+_0x49a8d8(0xce)+_0x40b7f8+':',_0x3edfd3);throw _0x3edfd3;}}[a63_0x259f0e(0xf1)](_0x25d92d){const _0x4f7dc4=a63_0x259f0e;try{const _0x16e7af=this.#cache[_0x4f7dc4(0xbe)](_0x25d92d);if(_0x16e7af?.[_0x4f7dc4(0xe2)]!==undefined)return _0x16e7af['etat']!==this.#defaultState;const _0x534256=this.#db[_0x4f7dc4(0xea)](_0x4f7dc4(0xee)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')['get'](_0x25d92d);if(_0x534256)return this.#cache['set'](_0x25d92d,{...this.#cache[_0x4f7dc4(0xbe)](_0x25d92d)||{},'etat':_0x534256['etat']}),_0x534256[_0x4f7dc4(0xe2)]!==this.#defaultState;return![];}catch(_0x43a475){return console['error']('Error\x20checking\x20enabled\x20state\x20for\x20jid\x20'+_0x25d92d+':',_0x43a475),![];}}['getActionForJid'](_0x57ed5b){const _0x38a437=a63_0x259f0e,_0x4037ea={'lyIxc':'blOCN'};try{const _0x1ded20=this.#cache[_0x38a437(0xbe)](_0x57ed5b);if(_0x1ded20?.[_0x38a437(0xdf)])return _0x1ded20[_0x38a437(0xdf)];const _0x34b492=this.#db[_0x38a437(0xea)](_0x38a437(0xf9)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')['get'](_0x57ed5b);if(_0x34b492)return _0x4037ea['lyIxc']===_0x38a437(0xd9)?_0x9e1f63[_0x38a437(0xbf)]()[_0x38a437(0xe0)]('(((.+)+)+)+$')['toString']()[_0x38a437(0x100)](_0x24b7dc)[_0x38a437(0xe0)]('(((.+)+)+)+$'):(this.#cache[_0x38a437(0xec)](_0x57ed5b,{...this.#cache['get'](_0x57ed5b)||{},'action':_0x34b492['action']}),_0x34b492[_0x38a437(0xdf)]);return this.#defaultAction;}catch(_0x384521){console[_0x38a437(0xdc)]('Error\x20getting\x20action\x20for\x20jid\x20'+_0x57ed5b+':',_0x384521);throw _0x384521;}}['generateCmd'](_0x189940){const _0x30a241=a63_0x259f0e,_0x2939b5={'VXKaa':function(_0x5080f2,_0x1af6a0){return _0x5080f2&&_0x1af6a0;},'GKZkP':function(_0x3aac3b,_0x3f9bc3){return _0x3aac3b(_0x3f9bc3);},'TfheQ':function(_0x1c9140,_0x321a70){return _0x1c9140==_0x321a70;},'ReRbb':function(_0x5a75dc,_0x4bd75f){return _0x5a75dc!==_0x4bd75f;},'SuVwi':_0x30a241(0xba),'CKQTi':_0x30a241(0xcf),'DhLxW':_0x30a241(0xc7),'xQtSV':function(_0x5eadd2,_0x5c3041){return _0x5eadd2(_0x5c3041);}},{nomCom:_0x3d83b8,categorie:_0x4f33f9,desc:_0x1318e7,alias:_0x1c7322,reaction:_0x4b3d23}=_0x189940;zokou({'nomCom':_0x3d83b8,'categorie':_0x4f33f9,'reaction':_0x4b3d23,'desc':_0x1318e7,'alias':_0x1c7322},async(_0x2aa97b,_0x2d0eb7,_0x54bd6e)=>{const _0x3dca3a=_0x30a241,{verifGroupe:_0x5a527b,verifAdmin:_0x5b6361,ms:_0x2bc4f2,arg:_0x17625e,superUser:_0x50677d,repondre:_0x258334}=_0x54bd6e;if(!_0x5a527b)return _0x258334(_0x3dca3a(0x102));if(_0x2939b5['VXKaa'](!_0x50677d,!_0x5b6361))return _0x2939b5[_0x3dca3a(0xda)](_0x258334,_0x3dca3a(0xe8));try{const _0x2e1787='\x0a'+_0x3d83b8+'\x20'+this[_0x3dca3a(0xe5)][_0x3dca3a(0xcc)]+_0x3dca3a(0xf5)+_0x3d83b8+'\x20'+this[_0x3dca3a(0xe5)][_0x3dca3a(0xe3)]+':\x20to\x20disable\x20it\x0a'+_0x3d83b8+'\x20action/'+this['ACTIONS']['remove']+':\x20to\x20change\x20the\x20action\x20to\x20'+this[_0x3dca3a(0xf8)][_0x3dca3a(0xfb)]+'\x0a'+_0x3d83b8+'\x20action/'+this['ACTIONS']['delete']+_0x3dca3a(0xd2)+this[_0x3dca3a(0xf8)]['delete']+'\x0a'+_0x3d83b8+_0x3dca3a(0xe7)+this[_0x3dca3a(0xf8)][_0x3dca3a(0xca)]+_0x3dca3a(0xd2)+this[_0x3dca3a(0xf8)][_0x3dca3a(0xca)]+'\x0a'+_0x3d83b8+'\x20'+this[_0x3dca3a(0xf8)][_0x3dca3a(0xfb)]+'\x20'+this['STATES'][_0x3dca3a(0xcc)]+':\x20to\x20enable\x20and\x20set\x20the\x20action\x20to\x20remove';if(!_0x17625e||!_0x17625e[0x0]||_0x17625e['join']('')[_0x3dca3a(0xd5)]()=='')return _0x258334(_0x2e1787);const _0x3d6a6d=_0x17625e[0x0]['toLowerCase']();if(_0x2939b5[_0x3dca3a(0xc5)](_0x3d6a6d,this[_0x3dca3a(0xe5)]['enabled'])){if(_0x2939b5[_0x3dca3a(0xdd)](_0x2939b5['SuVwi'],'sNQbj')){if(this[_0x3dca3a(0xf1)](_0x2aa97b))return _0x258334(_0x3d83b8+'\x20is\x20already\x20enabled');return this.#addOrUpdateJid(_0x2aa97b,_0x3d6a6d),_0x258334(_0x3d83b8+_0x3dca3a(0xed));}else return _0x41335e(_0x158d5d+'\x20is\x20already\x20enabled');}else{if(_0x3d6a6d==this['STATES'][_0x3dca3a(0xe3)]){if(!this['enabledForJid'](_0x2aa97b))return _0x2939b5['GKZkP'](_0x258334,_0x3d83b8+_0x3dca3a(0x101));return this.#addOrUpdateJid(_0x2aa97b,_0x3d6a6d),_0x258334(_0x3d83b8+'\x20is\x20now\x20disabled');}else{if(_0x3d6a6d[_0x3dca3a(0xfc)](_0x2939b5[_0x3dca3a(0xd7)])){if(_0x3dca3a(0xc7)===_0x2939b5[_0x3dca3a(0xff)]){const _0x25b644=_0x3d6a6d['split']('/')[0x1]['trim']()[_0x3dca3a(0xd3)]();if(!Object['values'](this[_0x3dca3a(0xf8)])[_0x3dca3a(0xc6)](_0x25b644))return _0x2939b5['GKZkP'](_0x258334,_0x3dca3a(0xcd)+_0x25b644+_0x3dca3a(0xef)+Object[_0x3dca3a(0xeb)](this[_0x3dca3a(0xf8)])[_0x3dca3a(0xd6)](',\x20'));return this.#updateJidAction(_0x2aa97b,_0x25b644),_0x258334('The\x20action\x20for\x20'+_0x3d83b8+_0x3dca3a(0xbb)+_0x25b644);}else{const _0x19c736=_0x5423b3[_0x3dca3a(0xfa)](_0x2bffe5,arguments);return _0x44bd51=null,_0x19c736;}}else return _0x258334(_0x2e1787);}}}catch(_0x35251e){return console['log'](_0x3dca3a(0xf3)+_0x3d83b8+_0x3dca3a(0xd8)+_0x2aa97b+':\x20'+_0x35251e),_0x2939b5[_0x3dca3a(0xc1)](_0x258334,_0x3dca3a(0xdb));}});}}module[a63_0x259f0e(0xde)]=EventStateManager;