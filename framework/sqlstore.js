const a80_0x18e269=a80_0x53fd;(function(_0xf8eb0,_0x38f0b2){const _0x185398=a80_0x53fd,_0x24328d=_0xf8eb0();while(!![]){try{const _0x4548ea=-parseInt(_0x185398(0xb2))/0x1*(parseInt(_0x185398(0x108))/0x2)+-parseInt(_0x185398(0x13d))/0x3+-parseInt(_0x185398(0xd3))/0x4+parseInt(_0x185398(0x11f))/0x5*(parseInt(_0x185398(0x125))/0x6)+-parseInt(_0x185398(0x124))/0x7+parseInt(_0x185398(0xc4))/0x8+parseInt(_0x185398(0x117))/0x9*(parseInt(_0x185398(0xba))/0xa);if(_0x4548ea===_0x38f0b2)break;else _0x24328d['push'](_0x24328d['shift']());}catch(_0x5da79e){_0x24328d['push'](_0x24328d['shift']());}}}(a80_0x51d0,0x93362));const a80_0x19b8ad=(function(){let _0x2cc38d=!![];return function(_0xe07f61,_0x572bf2){const _0x4ad991=_0x2cc38d?function(){if(_0x572bf2){const _0x26ecde=_0x572bf2['apply'](_0xe07f61,arguments);return _0x572bf2=null,_0x26ecde;}}:function(){};return _0x2cc38d=![],_0x4ad991;};}()),a80_0x109638=a80_0x19b8ad(this,function(){const _0x455c97=a80_0x53fd,_0x3a1730={'Drsqm':'(((.+)+)+)+$'};return a80_0x109638[_0x455c97(0xeb)]()['search'](_0x455c97(0x105))[_0x455c97(0xeb)]()['constructor'](a80_0x109638)['search'](_0x3a1730[_0x455c97(0xaa)]);});a80_0x109638();'use strict';/**
 * @file SQLite Store Management for Baileys
 * @license MIT
 *
 * Use and modify this code freely under the MIT license. If you use this in your projects, attribution would be appreciated.
 *
 * Author: Zaid (GitHub: hacxk)
 *
 * This module provides a SQLite-based storage solution for managing Baileys data, including message history,
 * contacts, groups, and connection state. It uses SQLite to persist data and LRU cache for efficient data
 * retrieval. It supports CRUD operations for managing messages, contacts, group metadata, and more.
 */
var __importDefault=this&&this['__importDefault']||function(_0x9ebf58){const _0x464eab=a80_0x53fd;return _0x9ebf58&&_0x9ebf58[_0x464eab(0xd6)]?_0x9ebf58:{'default':_0x9ebf58};};Object['defineProperty'](exports,a80_0x18e269(0xd6),{'value':!![]}),exports[a80_0x18e269(0x116)]=void 0x0;function a80_0x51d0(){const _0x5ab40a=['CMvTB3rLsMLK','EhvcyuC','q3jLyxrLzcbKyxrHyMfZzsbKAxjLy3rVCNK6ia','zLDtD1q','BwvZC2fNAw5NlwHPC3rVCNKTAxmTBgf0zxn0','BM9bA1q','mZaWDMrRt1b6','y2HHDc0','rMfPBgvKihrVihbHCNnLig1VC3qGCMvJzw50ig1LC3nHz2u','tfjvq2fJAgu','quXKDwq','nZG0mtG5n3zoD0rOvW','mZG1mMzuCfbvCq','rMfPBgvKihrVigXVywqGywXSigDYB3vWig1LDgfKyxrH','ChjLC2vUy2vZ','ChjVzMLSzvbPy3r1CMvvCMW','Ag5AtuC','tfb6Aeq','D2fUy3G','tgP0D1y','yxfvBNu','BwvZC2fNAw5NlwHPC3rVCNKUC2v0','rMfPBgvKihrVigv4zwn1DguGy3vZDg9Tihf1zxj5','y3HYyvq','D0TSBMG','y2HHDhmUzgvSzxrL','qwXSig1LC3nHz2vZigrLBgv0zwq','v1zhCuK','svfRu20','wfHbuLu','Bxj4Deq','r3jVDxaGDxbZzxj0zwq','rMfPBgvKihrVihnHDMuGz3jVDxaGCgfYDgLJAxbHBNq','uuPMtMK','CMvHza','wejLvwu','mJq2ntGYvMLUrwPw','yuH5yNe','zxHPC3rZu3LUyW','yxbWBhK','ChvZAa','DffiCMK','BM93','twvZC2fNzsbKzwXLDgvK','AhnVC0G','rMfPBgvKihrVihbHCNnLigXHyMvSigfZC29JAwf0Aw9U','wwPTAKW','CgfYC2u','z3jVDxaTjq','r3jVDxaGDxbKyxrLza','rMfPBgvKihrVigDLDcbKyxrHigzYB20Gu1fmAxrL','u0vmrunuihzHBhvLiezst00GyMfPBgv5C19ZDg9YzsbxsevsrsbPBNn0yw5Jzv9Pzca9id8Gqu5eigTLEsa9id8','DMv4CeO','ywXS','ANb2suG','z2v0','vuPtsem','qhDOAxnRzxLZB2nRzxrZl2jHAwXLExmVBgLIl1v0AwXZ','C2vUDa','BwvZC2fNzxmT','D2rNuKW','A2v5CW','wxrcD2e','rhjZCw0','uvzZuvq','EgHptg4','uwDgr1m','uuDPtg0','revmrvrfiezst00GBwvZC2fNzv9ZDgf0DxmGv0HfuKuGAw5ZDgfUy2vFAwqGpsa/','ChjLC2vUy2uUDxbKyxrL','EwLvu08','mvb1sxnPzW','zMLSDgvY','zgvMyxvSDa','rMfPBgvKihrVigzLDgnOigDYB3vWig1LDgfKyxrH','y2HHDhm','rMfPBgvKihrVihvWzgf0zsbTzxnZywDLihn0yxr1CW','BwvZC2fNzxm','CunSvee','mtGWndGXmtbPCM9JuuG','zgvSyxK','q2HHDcbKzwXLDgvK','y2HHDhmUDxbZzxj0','re5nEvy','C2HPzNq','y29UBMvJDgLVBI51CgrHDgu','rMfPBgvKihrVihbHCNnLig1LC3nHz2uGzgf0yq','u0vmrunuihzHBhvLiezst00GyMfPBgv5C19ZDg9YzsbxsevsrsbPBNn0yw5Jzv9Pzca9id8Gqu5eigTLEsbmsuTfid8Gt1jerviGqLKGA2v5ierfu0mGteLnsvqGpW','z3jVDxaT','ntm4mJC1mMHur0D3DW','vuHdv1q','C3bSAxq','su5trvjuie9sifjfueXbq0uGsu5utYbIywLSzxLZx3n0B3jLicHPBNn0yw5Jzv9PzcWGA2v5lcb2ywX1zsKGvKfmvuvticG/lca/lca/kq','zMXVB3i','rgf0ywjHC2u','z3jVDxbZlNvWzgf0zq','revmrvrfiezst00GyMfPBgv5C19ZDg9YzsbxsevsrsbPBNn0yw5Jzv9Pzca9id8','AhzWr3O','AMLK','zM90yu4','rxLiChu','q1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmGBwvZC2fNzv9ZDgf0DxmGkaOGicaGicaGicaGicaGicaGicaGigLUC3rHBMnLx2LKifrfwfqGtK9uie5vteWScIaGicaGicaGicaGicaGicaGicaGAMLKifrfwfqGtK9uie5vteWScIaGicaGicaGicaGicaGicaGicaGBwvZC2fNzv9PzcburvHuie5pvcbovuXmlaOGicaGicaGicaGicaGicaGicaGigzYB21FBwuGsu5uruDfuIberuzbvuXuidaScIaGicaGicaGicaGicaGicaGicaGAxnFCMvHzcbjtLrfr0vsierfrKfvtfqGmcWkicaGicaGicaGicaGicaGicaGicbquKLnqvjzieTfwsaOAw5ZDgfUy2vFAwqSigPPzcWGBwvZC2fNzv9PzcKkicaGicaGicaGicaGicaGicK7','BgfIzwWT','y29UDgfJDc0','mti4ntK0oeDoAw1Jsq','ExP1sKW','su5trvjuie9sifjfueXbq0uGsu5utYbTzxnZywDLx3n0yxr1CYaOAw5ZDgfUy2vFAwqSigPPzcWGBwvZC2fNzv9PzcWGzNjVBv9TzsWGAxnFCMvHzcKGvKfmvuvticG/lca/lca/lca/lca/kq','x19LC01VzhvSzq','tM8GBwvZC2fNzxmGzM91BMqGzM9YihrOzsbNAxzLBIbksuq','DMfSDwu','rxjYB3iGChjVy2vZC2LUzYb3CML0zsbXDwv1zq','EfPQz20','y1LUwuy','y29UDgfJDhmUDxbKyxrL','uNrnzhm','BgfIzwXZ','BwvZC2fNzxmUDxbZzxj0','zKrrtMm','ENjpCKy','rMfPBgvKihrVignYzwf0zsb0ywjSzq','tKPmDuO','y29UDgfJDhm','BgfIzwXjza','DxnLCLjLy2vPChq','CNvU','vgfIBguGy3jLyxrLzcbVCIbHBhjLywr5igv4Axn0CZOG','wgTmqMW','r0nPtKq','Dg9tDhjPBMC','CvP0v1K','Aw5MBW','rMfPBgvKihrVihbHCNnLignVBNrHy3qGzgf0yq','s3z4vLK','sK5nyw4','rMfPBgvKihrVihbHCNnLigrHDgeGzNjVBsbtuuXPDgu','zxHLyW','u0vmrunuihzHBhvLiezst00GyMfPBgv5C19ZDg9YzsbxsevsrsbPBNn0yw5Jzv9Pzca9id8Gqu5eigTLEsbmsuTfid8Gt1jerviGqLKGA2v5ierfu0mGteLnsvqGmq','vffNvhm','wKT6De8','rMfPBgvKihrVihnHDMuGzgf0ysb0BYbtuuXPDgu','twPHqMy','u0vmrunuihzHBhvLiezst00GyMfPBgv5C19ZDg9YzsbxsevsrsbPBNn0yw5Jzv9Pzca9id8Gqu5eigTLEsbmsuTfid8','vMPICxm','BfDQzKq','AK1Sq1G','C3fSAxrL','vKHrsg8','s1HJquu','BgfIzwXZlMvKAxq','vKPMEg0','y2HHDeLK','ChjLC2vUy2uT','zNjVBu1L','rMDwB3K','kcGOlISPkYKRksSK','BgvUz3rO','zhDAuLC','nZC4ndKWqvrywvPS','CMvTB3zL','r1LqCuW','CfzdsLm','BwvZC2fNzs1YzwnLAxb0lNvWzgf0zq','A2v5','rLHZAhe','BePyD08','rMfPBgvKihrVigzLDgnOigLTywDLifvsta','C2v0','Cwr1Dgm','vNPbENu','z3jVDxbgzxrJAefSBfbHCNrPy2LWyxrPBMC','zxjYB3i','BwfRzuLUu1fmAxrLu3rVCMu','oxv5ruv6qW','CMPpB20'];a80_0x51d0=function(){return _0x5ab40a;};return a80_0x51d0();}const Utils_1=require(a80_0x18e269(0xa4)),sqlite3_1=__importDefault(require('sqlite3')),sqlite_1=require(a80_0x18e269(0xfc)),lru_cache_1=require('lru-cache'),pino_1=__importDefault(require('pino')),path_1=__importDefault(require('path')),fs_1=require('fs'),promises_1=require('fs/promises');async function makeInSQLiteStore(_0xdcf14a,_0x5ba318,_0x3ee4a2){const _0x6b8433=a80_0x18e269,_0x1b2cae={'wpryx':function(_0x560608,_0x113a68){return _0x560608>_0x113a68;},'XdMSU':function(_0x253631){return _0x253631();},'HKNUq':function(_0x23399f,_0x39a992){return _0x23399f!==_0x39a992;},'CMaSt':'AWUAe','FgVoy':_0x6b8433(0xd9),'JgzDp':_0x6b8433(0x14c),'zxmnx':_0x6b8433(0xf1),'cYnYF':function(_0x17f1a8,_0x14ca0c,_0x1351e6){return _0x17f1a8(_0x14ca0c,_0x1351e6);},'LPzhD':function(_0x39971b,_0x22175b){return _0x39971b!==_0x22175b;},'IQkSm':function(_0x371892,_0x47ed84){return _0x371892!==_0x47ed84;},'noAkT':function(_0x4ba83b,_0x1e44ef){return _0x4ba83b===_0x1e44ef;},'wWLJY':_0x6b8433(0x137),'ALdud':_0x6b8433(0xa7),'rAtve':function(_0x8233f8,_0x49d37f,_0x19f1a8,_0x4770b5){return _0x8233f8(_0x49d37f,_0x19f1a8,_0x4770b5);},'VzAzu':function(_0x16e147,_0x2d872e){return _0x16e147(_0x2d872e);},'EyHpu':function(_0xc6ae8f,_0x3044ff){return _0xc6ae8f in _0x3044ff;},'WVGqI':_0x6b8433(0xf9),'vpfMy':'QVrDA','CsKTz':_0x6b8433(0x14d),'tQHri':_0x6b8433(0x12e),'OiKbo':_0x6b8433(0xbd),'XkLBl':_0x6b8433(0xb0),'MjaBf':'contacts.upsert','kJOms':_0x6b8433(0xdf),'YtBwa':_0x6b8433(0x10c),'fDQNc':_0x6b8433(0x132),'DNMyV':_0x6b8433(0xf8),'mSLBo':'Failed\x20to\x20remove\x20all\x20data','VHQHo':'eLzyN','xuBaG':'XXARU','hsosH':_0x6b8433(0xc2),'VJfxm':function(_0x21c694,_0x61a60){return _0x21c694===_0x61a60;},'YjmjL':_0x6b8433(0xd5),'lAvPy':_0x6b8433(0xb7),'GCiND':_0x6b8433(0xcb),'JNMan':_0x6b8433(0x149),'gclYf':function(_0x46fc6e,_0x13428a){return _0x46fc6e(_0x13428a);},'hvpGz':_0x6b8433(0xfe),'ZKztO':_0x6b8433(0xad),'dwZRW':'Failed\x20to\x20execute\x20custom\x20query','KvxVY':function(_0x1bf217,_0x31fb2,_0x3d0a81){return _0x1bf217(_0x31fb2,_0x3d0a81);},'pVCJS':_0x6b8433(0xe4),'rjOom':'labelAssociations','eoPXe':function(_0x4c0400,_0x40b8e2){return _0x4c0400===_0x40b8e2;},'aqUnu':'gxQpr','QVsQT':'TWCKx','LPMcf':'NSASl','QJfNi':_0x6b8433(0x10e),'jpvIH':'WASocket\x20is\x20undefined','lWjfD':function(_0x4cc3f4,_0x3539a5,_0xcef668){return _0x4cc3f4(_0x3539a5,_0xcef668);},'qdutc':function(_0x31b3a6,_0x1cddb5){return _0x31b3a6===_0x1cddb5;},'sNGJG':'chats','lJXwO':function(_0x43c6e7,_0x3e227a,_0x1de69f){return _0x43c6e7(_0x3e227a,_0x1de69f);},'bkmhb':_0x6b8433(0x130),'oQcSA':'No\x20SQLite\x20database\x20connection\x20established','ekILG':'info'},_0x2898a9=null,_0x3f7008=new lru_cache_1[(_0x6b8433(0x122))]({'max':0x2710}),_0x5390cf=[];let _0x384e3a=![];const _0x420542=path_1['default']['dirname'](_0x5ba318);if(!(0x0,fs_1[_0x6b8433(0x13f)])(_0x420542)){if(_0x1b2cae['bkmhb']===_0x6b8433(0xda)){_0x18d936['error']({'error':_0x2df20f,'query':_0x7c3b0b},_0x6b8433(0x12f));throw _0x512568;}else await(0x0,promises_1['mkdir'])(_0x420542,{'recursive':!![]}),_0x1b2cae['noAkT'](_0x3ee4a2,null)||_0x1b2cae[_0x6b8433(0x112)](_0x3ee4a2,void 0x0)?void 0x0:_0x3ee4a2['info'](_0x6b8433(0x11b)+_0x420542);}const _0x5d01dd=await(0x0,sqlite_1['open'])({'filename':_0x5ba318,'driver':sqlite3_1[_0x6b8433(0xb4)][_0x6b8433(0xc9)]});if(!_0x5d01dd)throw new Error(_0x1b2cae['oQcSA']);const _0x2e3480=_0x3ee4a2||(0x0,pino_1[_0x6b8433(0xb4)])({'level':_0x1b2cae['ekILG']}),_0xf74564=async()=>{const _0x2fa88a=_0x6b8433,_0x2f4de2=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20baileys_store\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20instance_id\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(instance_id,\x20key)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);',_0x2fa88a(0xd0)];for(const _0x326aac of _0x2f4de2){try{await _0x5d01dd[_0x2fa88a(0xf2)](_0x326aac),_0x2e3480['info'](_0x2fa88a(0xe8)+_0x326aac[_0x2fa88a(0xc6)]('\x20')[0x5]);}catch(_0x1c1a8f){_0x2e3480[_0x2fa88a(0x115)]({'error':_0x1c1a8f,'query':_0x326aac},_0x2fa88a(0xe2));}}};await _0xf74564();const _0x279344=async()=>{const _0x5ed51c=_0x6b8433;if(_0x384e3a||_0x5390cf['length']===0x0)return;_0x384e3a=!![];while(_0x1b2cae['wpryx'](_0x5390cf[_0x5ed51c(0x106)],0x0)){const _0x3e508e=_0x5390cf[_0x5ed51c(0xbf)]();if(_0x3e508e)try{await _0x1b2cae['XdMSU'](_0x3e508e);}catch(_0x16020f){if(_0x1b2cae['HKNUq'](_0x5ed51c(0x12c),_0x1b2cae['CMaSt']))_0x2e3480['error']({'error':_0x16020f},_0x1b2cae[_0x5ed51c(0x104)]);else{if(_0x4cd50e){const _0x245bc1=_0x30f7f6[_0x5ed51c(0x140)](_0xf373fb,arguments);return _0x231931=null,_0x245bc1;}}}}_0x384e3a=![];},_0x4d359a=async(_0x5bb206,_0x3ea6a1)=>{const _0x4ad199=_0x6b8433,_0x301388=async()=>{const _0x207e5a=a80_0x53fd;try{await _0x5d01dd['run'](_0x207e5a(0xc7),[_0xdcf14a,_0x5bb206,JSON['stringify'](_0x3ea6a1)]);}catch(_0x53c341){_0x2e3480[_0x207e5a(0x115)]({'error':_0x53c341,'key':_0x5bb206},_0x207e5a(0xf6));}};_0x5390cf[_0x4ad199(0x141)](_0x301388),!_0x384e3a&&_0x1b2cae['XdMSU'](_0x279344);},_0x31cd18=async _0x56a920=>{const _0x439954=_0x6b8433;if(_0x3f7008['has'](_0x56a920))return _0x3f7008['get'](_0x56a920);try{const _0x3ef584=await _0x5d01dd['get'](_0x1b2cae['JgzDp'],[_0xdcf14a,_0x56a920]);if(_0x3ef584)try{const _0x6d40f0=JSON[_0x439954(0x148)](_0x3ef584['value']);return _0x3f7008[_0x439954(0x111)](_0x56a920,_0x6d40f0),_0x6d40f0;}catch(_0x3eaf71){return _0x2e3480[_0x439954(0x115)]({'error':_0x3eaf71,'key':_0x56a920},_0x1b2cae['zxmnx']),null;}}catch(_0x5a7171){_0x2e3480['error']({'error':_0x5a7171,'key':_0x56a920},_0x439954(0x14b));}return null;},_0x307b20=async(_0x3b4e40,_0x28d14c)=>{const _0x5d2941=_0x6b8433;_0x5d2941(0x12b)==='wyVej'?_0x4512a2['error']({'error':_0x47ffa7,'jid':_0x582ae8,'id':_0x241682,'status':_0x50fc39},'Failed\x20to\x20update\x20message\x20status'):(_0x3f7008[_0x5d2941(0x111)](_0x3b4e40,_0x28d14c),await _0x4d359a(_0x3b4e40,_0x28d14c));},_0x115785=async(_0x155ead,_0x16cbdc)=>{const _0x173521=_0x6b8433,_0x13ab96={'RtMds':function(_0x1f538e,_0x536008){return _0x1f538e||_0x536008;},'yiUSO':_0x1b2cae[_0x173521(0x134)],'qZtWY':_0x1b2cae['vpfMy'],'CkkKj':'Failed\x20to\x20save\x20group\x20participant','qClTA':_0x1b2cae['CsKTz'],'uEOzL':_0x173521(0xfb),'emecH':_0x173521(0xbc),'xhOLn':function(_0x39f120,_0x55a1f7){return _0x39f120===_0x55a1f7;},'QyubO':'hnZMG','QGiLm':function(_0x30846a,_0xd992f3){return _0x30846a!==_0xd992f3;},'UJSHC':function(_0x996d8a,_0x8f4406){return _0x996d8a===_0x8f4406;},'yzuJL':_0x173521(0x109)};_0x173521(0x11c)===_0x173521(0x11c)?(_0x155ead['on']('connection.update',async _0x3c96d1=>{const _0x402971=_0x173521;Object['assign'](_0x13ab96[_0x402971(0xdd)](_0x2898a9,{}),_0x3c96d1),await _0x307b20(_0x402971(0xc0),_0x3c96d1);if(_0x3c96d1['connection']==='open'){await(0x0,Utils_1[_0x402971(0xbb)])(0x7d0);const _0x910266=await _0x16cbdc[_0x402971(0x114)]();for(const _0xeb65fb in _0x910266){const _0x5db7da=_0x910266[_0xeb65fb];try{await _0x307b20(_0x402971(0xc3)+_0xeb65fb,_0x5db7da);}catch(_0x3e070e){_0x13ab96[_0x402971(0xb1)]!==_0x13ab96[_0x402971(0xec)]?_0x2e3480['error']({'error':_0x3e070e},_0x13ab96['CkkKj']):_0x340b17[_0x402971(0x115)]({'error':_0x622a9a,'key':_0x22c519},'Failed\x20to\x20get\x20data\x20from\x20SQLite');}}}}),_0x155ead['on'](_0x1b2cae[_0x173521(0x142)],async _0x5a23cb=>{const _0x3ed831=_0x173521,_0x26c0cf={'qzNVm':_0x3ed831(0xf1)};if('wsrER'===_0x3ed831(0x13c))try{return _0x4b6da2[_0x3ed831(0x148)](_0x3502b4[_0x3ed831(0xd8)]);}catch(_0x24dd7a){return _0x11bcf2[_0x3ed831(0x115)]({'error':_0x24dd7a},'Failed\x20to\x20parse\x20contact\x20data'),null;}else{const {chats:_0x2ab480,contacts:_0x5b08f7,messages:_0x3ad903,isLatest:_0x258e06}=_0x5a23cb;await _0x1b2cae['cYnYF'](_0x307b20,_0x3ed831(0xb6),_0x2ab480),await _0x307b20(_0x3ed831(0xe4),_0x5b08f7);for(const _0x4816d3 of _0x3ad903){_0x4816d3['key']&&_0x4816d3[_0x3ed831(0x10d)][_0x3ed831(0x119)]&&_0x4816d3[_0x3ed831(0x10d)]['id']&&await _0x307b20(_0x3ed831(0xa6)+_0x4816d3[_0x3ed831(0x10d)][_0x3ed831(0x119)]+'-'+_0x4816d3['key']['id'],_0x4816d3);}if(_0x1b2cae[_0x3ed831(0x12a)](_0x258e06,undefined)){if(_0x3ed831(0xe3)!==_0x3ed831(0x131))await _0x307b20(_0x3ed831(0x11d),_0x258e06);else try{const _0x40d423=_0x38bcc8[_0x3ed831(0x148)](_0x1a4558['value']);return _0x133732[_0x3ed831(0x111)](_0x5e80be,_0x40d423),_0x40d423;}catch(_0x49a06c){return _0x2a82af['error']({'error':_0x49a06c,'key':_0x42113e},_0x26c0cf['qzNVm']),null;}}}}),_0x155ead['on'](_0x1b2cae['OiKbo'],async _0x549af0=>{await _0x307b20('chats',_0x549af0);}),_0x155ead['on']('chats.update',async _0x453ef4=>{const _0x3b7c47=_0x173521;for(const _0x4b1fed of _0x453ef4){const _0x25b86d=Math[_0x3b7c47(0xc8)](Date[_0x3b7c47(0x143)]()/0x3e8);if(_0x4b1fed['id']){if(_0x1b2cae[_0x3b7c47(0x135)](_0x3b7c47(0x10a),_0x3b7c47(0x10a)))_0x21d0d7[_0x3b7c47(0x115)]({'error':_0x2dab4c},_0x3b7c47(0xd9));else{const _0x401d8d=await _0x31cd18(_0x3b7c47(0x120)+_0x4b1fed['id']+'-'+_0x25b86d)||{};Object['assign'](_0x401d8d,_0x4b1fed),await _0x307b20('chat-'+_0x4b1fed['id']+'-'+_0x25b86d,_0x401d8d);}}}}),_0x155ead['on'](_0x1b2cae[_0x173521(0xe9)],async _0x2b969d=>{const _0x1e3f58=_0x173521;if(_0x13ab96[_0x1e3f58(0xb9)]!==_0x1e3f58(0x14d)){const _0x2ccdba=_0x287a86['parse'](_0xb71b28[_0x1e3f58(0xd8)]);return _0x23bdde[_0x1e3f58(0x111)](_0x213293,_0x2ccdba),_0x2ccdba;}else await _0x307b20(_0x1e3f58(0x102)+_0x2b969d['id'],_0x2b969d[_0x1e3f58(0x127)]);}),_0x155ead['on'](_0x1b2cae[_0x173521(0xf7)],async _0x15c132=>{const _0x41deb9=_0x173521,_0x2384b7=await _0x31cd18(_0x41deb9(0xe4))||[],_0x1dc55e=[..._0x2384b7,..._0x15c132];await _0x307b20(_0x41deb9(0xe4),_0x1dc55e);}),_0x155ead['on'](_0x1b2cae['kJOms'],async _0x430840=>{const _0x369235=_0x173521;if(_0x1b2cae[_0x369235(0x11e)](_0x1b2cae['wWLJY'],_0x1b2cae[_0x369235(0x123)]))_0x2dfaa1[_0x369235(0x115)]({'error':_0x34c848,'query':_0x6048ce},_0x369235(0xe2));else for(const _0x383096 of _0x430840['messages']){_0x383096['key']&&_0x383096['key']['remoteJid']&&_0x383096[_0x369235(0x10d)]['id']&&(await _0x1b2cae['cYnYF'](_0x307b20,_0x369235(0xa6)+_0x383096[_0x369235(0x10d)]['remoteJid']+'-'+_0x383096['key']['id'],_0x383096),await _0x4a1c9b(_0x383096['key'][_0x369235(0x119)],_0x383096[_0x369235(0x10d)]['id'],_0x383096[_0x369235(0x10d)][_0x369235(0x103)]?'sent':'delivered'));}}),_0x155ead['on'](_0x1b2cae[_0x173521(0xa9)],async _0x10d7ac=>{const _0x2633fa=_0x173521;for(const _0x4c6fb7 of _0x10d7ac){_0x4c6fb7[_0x2633fa(0x10d)][_0x2633fa(0x119)]&&_0x4c6fb7[_0x2633fa(0x10d)]['id']&&await _0x1b2cae['rAtve'](_0x4a1c9b,_0x4c6fb7[_0x2633fa(0x10d)][_0x2633fa(0x119)],_0x4c6fb7[_0x2633fa(0x10d)]['id'],'read');}}),_0x155ead['on'](_0x173521(0xca),async _0x14dda8=>{const _0x936ecf=_0x173521;for(const _0x315380 of _0x14dda8){if(_0x315380['id']){const _0x2bd473=await _0x1b2cae[_0x936ecf(0x113)](_0x31cd18,_0x936ecf(0xc3)+_0x315380['id'])||{};Object['assign'](_0x2bd473,_0x315380),await _0x307b20(_0x936ecf(0xc3)+_0x315380['id'],_0x2bd473),_0x2e3480['info']({'groupId':_0x315380['id']},_0x936ecf(0x14a));}}}),_0x155ead['on']('groups.upsert',async _0x53af35=>{const _0xdbf33=_0x173521;for(const _0x313386 of _0x53af35){await _0x307b20(_0xdbf33(0xc3)+_0x313386['id'],_0x313386),_0x2e3480[_0xdbf33(0xed)]({'groupId':_0x313386['id']},_0xdbf33(0x138));}}),_0x155ead['on'](_0x173521(0xdc),async _0x16c032=>{const _0x3fa4bb=_0x173521;for(const _0x4b1e5a of _0x16c032){if(_0x4b1e5a['id']){if('TVpIu'!==_0x13ab96['uEOzL']){const _0x35f0ea=await _0x31cd18(_0x3fa4bb(0xd2)+_0x4b1e5a['id'])||{};Object['assign'](_0x35f0ea,_0x4b1e5a),await _0x307b20('contact-'+_0x4b1e5a['id'],_0x35f0ea),_0x2e3480[_0x3fa4bb(0xed)]({'contactId':_0x4b1e5a['id']},'Contact\x20updated');}else return _0x494c98['error']({'error':_0x44312e},_0x3fa4bb(0xee)),null;}}}),_0x155ead['on'](_0x1b2cae[_0x173521(0xe0)],async _0x87ae0e=>{for(const _0x29e9f9 of _0x87ae0e){await _0x307b20('chat-'+_0x29e9f9,null),_0x2e3480['info']({'chatId':_0x29e9f9},_0x13ab96['emecH']);}}),_0x155ead['on']('messages.delete',async _0x3a8d75=>{const _0x478dda=_0x173521;if(_0x1b2cae[_0x478dda(0xcf)](_0x478dda(0x14e),_0x3a8d75)){const _0x3cdb59=await _0x31cd18(_0x478dda(0xa6)+_0x3a8d75[_0x478dda(0xcd)])||{};for(const _0x3f6bf4 in _0x3cdb59){await _0x1b2cae[_0x478dda(0xdb)](_0x307b20,_0x478dda(0xa6)+_0x3a8d75['jid']+'-'+_0x3f6bf4,null);}_0x2e3480[_0x478dda(0xed)]({'jid':_0x3a8d75['jid']},_0x478dda(0x133));}else for(const _0x548cde of _0x3a8d75[_0x478dda(0xa8)]){_0x548cde[_0x478dda(0x119)]&&_0x548cde['id']&&(await _0x307b20('messages-'+_0x548cde[_0x478dda(0x119)]+'-'+_0x548cde['id'],null),_0x2e3480[_0x478dda(0xed)]({'messageId':_0x548cde['id'],'jid':_0x548cde['remoteJid']},_0x478dda(0x144)));}}),_0x155ead['on'](_0x173521(0xff),async _0xf89844=>{const _0x339fb8=_0x173521;if(_0x13ab96[_0x339fb8(0xac)](_0x339fb8(0x129),_0x13ab96['QyubO']))await _0x307b20(_0x339fb8(0xd1)+_0xf89844['id'],_0xf89844);else{_0x2f8fc3[_0x339fb8(0x115)]({'error':_0x564171},'Failed\x20to\x20parse\x20most\x20recent\x20message');throw _0x578ec4;}}),_0x155ead['on']('labels.association',async _0x5998f7=>{const _0x4832e0=_0x173521,_0x52abe1={'zrOrF':'Failed\x20to\x20parse\x20data\x20from\x20SQLite'};if(_0x13ab96[_0x4832e0(0xae)](_0x4832e0(0xce),'fotaN'))return _0x5807b3[_0x4832e0(0x115)]({'error':_0x324854,'key':_0x15755a},_0x52abe1[_0x4832e0(0xe1)]),null;else{const {association:_0x35889d,type:_0x4dc89c}=_0x5998f7,_0x1328d7='label-association-'+_0x35889d[_0x4832e0(0x101)]+'-'+_0x35889d[_0x4832e0(0xe5)];if(_0x13ab96[_0x4832e0(0x151)](_0x4dc89c,'add'))await _0x307b20(_0x1328d7,_0x35889d);else _0x4dc89c===_0x13ab96[_0x4832e0(0xd4)]&&await _0x307b20(_0x1328d7,null);}})):_0x481e40[_0x173521(0x115)]({'error':_0x2a6282},'Failed\x20to\x20parse\x20message\x20data');},_0x5309f7=async _0x3dd16e=>{const _0x4a004b=_0x6b8433,_0x415da6={'kiZqB':_0x4a004b(0xc5)},_0x2f7705=await _0x5d01dd[_0x4a004b(0x14e)](_0x1b2cae['DNMyV'],[_0xdcf14a,'label-association-%-'+_0x3dd16e]);return _0x2f7705['map'](_0x341e03=>{const _0x5b490f=_0x4a004b;try{if(_0x5b490f(0x13e)!==_0x415da6['kiZqB']){const _0xd00d40=JSON[_0x5b490f(0x148)](_0x341e03[_0x5b490f(0xd8)]);return _0xd00d40[_0x5b490f(0xe5)];}else _0x40ca4c[_0x5b490f(0x115)]({'error':_0x3139bc},_0x5b490f(0x139));}catch(_0x3565b5){return _0x2e3480[_0x5b490f(0x115)]({'error':_0x3565b5},_0x5b490f(0x146)),null;}})[_0x4a004b(0xb3)](Boolean);},_0x33b79a=async _0x2de024=>{const _0x534dbe=_0x6b8433;if(_0x534dbe(0xf4)!=='TQgTs')return _0x2abae0&&_0x2a5832['__esModule']?_0x4d1706:{'default':_0x24e6a5};else{const _0x1f467e=await _0x5d01dd[_0x534dbe(0x150)](_0x534dbe(0xf3),[_0xdcf14a,'messages-'+_0x2de024+'-%']);if(_0x1f467e){if(_0x1b2cae[_0x534dbe(0xfd)]==='eLzyN')try{return JSON[_0x534dbe(0x148)](_0x1f467e['value']);}catch(_0x39964d){if(_0x1b2cae[_0x534dbe(0x11a)]===_0x534dbe(0x136)){_0x2e3480[_0x534dbe(0x115)]({'error':_0x39964d},_0x534dbe(0x121));throw _0x39964d;}else try{return _0x13be7e[_0x534dbe(0x148)](_0x58ae95[_0x534dbe(0xd8)]);}catch(_0x129304){_0x7d4f54['error']({'error':_0x129304},'Failed\x20to\x20parse\x20most\x20recent\x20message');throw _0x129304;}}else{_0x3d5a98['error']({'error':_0x3fa0ee,'instance_id':_0x1af1f2},_0x1b2cae['mSLBo']);throw _0x2171f3;}}throw new Error(_0x534dbe(0xd7));}},_0x503796=async(_0xb1016,_0x5a2470)=>{const _0x12c8ef=_0x6b8433,_0x39f5f7=[],_0x4e0596=await _0x5d01dd['all'](_0x1b2cae[_0x12c8ef(0x145)],[_0xdcf14a,_0x12c8ef(0xa6)+_0xb1016+'-%',_0x5a2470]);for(const _0x2eec66 of _0x4e0596){try{const _0x26cf49=JSON['parse'](_0x2eec66[_0x12c8ef(0xd8)]);_0x39f5f7[_0x12c8ef(0x141)](_0x26cf49);}catch(_0x49a199){_0x2e3480[_0x12c8ef(0x115)]({'error':_0x49a199},_0x12c8ef(0xc1));}}return _0x39f5f7;},_0x4a1c9b=async(_0x570a8f,_0x308d4d,_0x58eb8a)=>{const _0x2c6536=_0x6b8433;try{const _0x3e781b=_0x1b2cae[_0x2c6536(0x100)](_0x58eb8a,_0x2c6536(0xa5))?0x1:0x0,_0x11c0f2=_0x1b2cae[_0x2c6536(0x11e)](_0x58eb8a,_0x2c6536(0x13b))?0x1:0x0;await _0x5d01dd[_0x2c6536(0xe7)](_0x1b2cae[_0x2c6536(0x147)],[_0xdcf14a,_0x570a8f,_0x308d4d,_0x3e781b,_0x11c0f2]);}catch(_0x19d3f3){_0x2e3480[_0x2c6536(0x115)]({'error':_0x19d3f3,'jid':_0x570a8f,'id':_0x308d4d,'status':_0x58eb8a},_0x1b2cae['lAvPy']);}},_0x2f89c8=async()=>{const _0x2fe465=_0x6b8433;try{await _0x5d01dd[_0x2fe465(0xe7)](_0x1b2cae[_0x2fe465(0xea)],[_0xdcf14a]),await _0x5d01dd['run'](_0x2fe465(0xaf),[_0xdcf14a]),_0x3f7008['clear'](),_0x2e3480['info']({'instance_id':_0xdcf14a},'All\x20data\x20removed\x20for\x20instance');}catch(_0x23886a){_0x2e3480[_0x2fe465(0x115)]({'error':_0x23886a,'instance_id':_0xdcf14a},'Failed\x20to\x20remove\x20all\x20data');throw _0x23886a;}},_0x1a34cd=async(_0x46b20e,_0x49b1e6)=>{return await _0x31cd18('messages-'+_0x46b20e+'-'+_0x49b1e6);},_0x3619e4=async()=>{const _0x13c532=_0x6b8433;try{const _0x5c5d3e=await _0x5d01dd[_0x13c532(0x14e)](_0x1b2cae[_0x13c532(0xbe)],[_0xdcf14a,_0x1b2cae[_0x13c532(0xf0)]]);return _0x5c5d3e['map'](_0x5dd94d=>{const _0x3d0dd4=_0x13c532;try{return console['log'](_0x5dd94d[_0x3d0dd4(0xd8)]),JSON['parse'](_0x5dd94d[_0x3d0dd4(0xd8)]);}catch(_0xa1f48d){return _0x2e3480[_0x3d0dd4(0x115)]({'error':_0xa1f48d},'Failed\x20to\x20parse\x20group\x20metadata'),null;}})['filter'](Boolean);}catch(_0x5b8343){return _0x2e3480['error']({'error':_0x5b8343},'Failed\x20to\x20load\x20all\x20group\x20metadata'),[];}},_0x1037a9=async _0x14931c=>{return await _0x1b2cae['gclYf'](_0x31cd18,'group-'+_0x14931c);},_0x43ca60=async(_0x2030d5,_0xe87769)=>{const _0x45cb16=_0x6b8433;try{return await _0x5d01dd['all'](_0x2030d5,_0xe87769);}catch(_0x1229e8){if(_0x1b2cae[_0x45cb16(0x12a)](_0x1b2cae[_0x45cb16(0xcc)],_0x1b2cae[_0x45cb16(0xf5)])){_0x2e3480[_0x45cb16(0x115)]({'error':_0x1229e8,'query':_0x2030d5},_0x1b2cae[_0x45cb16(0x107)]);throw _0x1229e8;}else{const _0x9e697d=_0x5bdb3d['parse'](_0x587039['value']);return _0x9e697d['labelId'];}}},_0x403c08=async()=>{const _0x1ef563=_0x6b8433;try{const _0x367188=await _0x5d01dd[_0x1ef563(0x14e)](_0x1b2cae[_0x1ef563(0xbe)],[_0xdcf14a,'contact-%']);return _0x367188['map'](_0x11311f=>{const _0x47975d=_0x1ef563;try{return JSON['parse'](_0x11311f[_0x47975d(0xd8)]);}catch(_0x20fb8f){return _0x2e3480[_0x47975d(0x115)]({'error':_0x20fb8f},_0x47975d(0xee)),null;}})[_0x1ef563(0xb3)](Boolean);}catch(_0x2005ba){return _0x2e3480[_0x1ef563(0x115)]({'error':_0x2005ba},'Failed\x20to\x20get\x20all\x20contacts'),[];}},_0x3c63e9=async _0x18eb3e=>{return await _0x31cd18('group-'+_0x18eb3e);},_0x4bee9d=async(_0x556a82,_0x5ce9f1)=>{const _0xff6eeb=_0x6b8433;if(!_0x5ce9f1)return undefined;try{if(_0x1b2cae['eoPXe'](_0x1b2cae[_0xff6eeb(0x12d)],_0x1b2cae[_0xff6eeb(0xab)])){const {chats:_0x2e7e63,contacts:_0x52c434,messages:_0x23f9dc,labels:_0x3b985d,labelAssociations:_0x5b754f}=_0x16d52e;_0x52a5d7('chats',_0x2e7e63),_0x1b2cae[_0xff6eeb(0xef)](_0x206bd2,_0x1b2cae[_0xff6eeb(0x10b)],_0x52c434),_0xcc80c7('messages',_0x23f9dc),_0x18e942(_0xff6eeb(0xde),_0x3b985d),_0x35150e(_0x1b2cae['rjOom'],_0x5b754f);}else{const _0x979e5a=await _0x5ce9f1[_0xff6eeb(0x128)](_0x556a82);return _0x979e5a;}}catch(_0x3024a9){return _0x1b2cae['LPMcf']===_0x1b2cae[_0xff6eeb(0x13a)]?(_0x380f0d[_0xff6eeb(0x115)]({'error':_0x4e11d9},_0xff6eeb(0x126)),[]):(_0x2e3480['error']({'error':_0x3024a9,'jid':_0x556a82},_0xff6eeb(0x110)),null);}},_0x3f791d=async(_0x3df0ad,_0x305038)=>{const _0x3f9309=_0x6b8433;if(!_0x305038)throw new Error(_0x1b2cae[_0x3f9309(0x14f)]);try{const _0x50422e=await _0x305038['groupMetadata'](_0x3df0ad);return await _0x1b2cae['KvxVY'](_0x307b20,'group-'+_0x3df0ad,_0x50422e),_0x50422e;}catch(_0x1237a1){_0x2e3480['error']({'error':_0x1237a1,'jid':_0x3df0ad},_0x3f9309(0xb5));throw _0x1237a1;}},_0x3433b7=async({remoteJid:_0x4b05f6,id:_0x25ef30})=>{const _0x34da84=_0x6b8433,_0x332369=await _0x1b2cae[_0x34da84(0xfa)](_0x1a34cd,_0x4b05f6,_0x25ef30);return _0x1b2cae[_0x34da84(0x112)](_0x332369,null)||_0x332369===void 0x0?void 0x0:_0x332369[_0x34da84(0xe6)];},_0x47007f=()=>{const _0x2783ca=_0x6b8433;return{'chats':_0x1b2cae['gclYf'](_0x31cd18,_0x1b2cae['sNGJG']),'contacts':_0x1b2cae['VzAzu'](_0x31cd18,_0x1b2cae['pVCJS']),'messages':_0x31cd18(_0x2783ca(0xb8)),'labels':_0x31cd18(_0x2783ca(0xde)),'labelAssociations':_0x31cd18(_0x1b2cae[_0x2783ca(0x118)])};},_0x42974c=_0x45edd3=>{const _0x360113=_0x6b8433,{chats:_0x503098,contacts:_0x1bf12f,messages:_0x5a2bc2,labels:_0x406652,labelAssociations:_0x58d8db}=_0x45edd3;_0x307b20(_0x360113(0xb6),_0x503098),_0x307b20(_0x360113(0xe4),_0x1bf12f),_0x1b2cae['lWjfD'](_0x307b20,_0x360113(0xb8),_0x5a2bc2),_0x1b2cae[_0x360113(0x10f)](_0x307b20,'labels',_0x406652),_0x307b20(_0x1b2cae['rjOom'],_0x58d8db);};return{'state':_0x2898a9,'bind':_0x115785,'getData':_0x31cd18,'setData':_0x307b20,'loadMessages':_0x503796,'loadMessage':_0x1a34cd,'loadAllGroupMetadata':_0x3619e4,'loadGroupMetadataByJid':_0x1037a9,'customQuery':_0x43ca60,'getAllContacts':_0x403c08,'getGroupByJid':_0x3c63e9,'updateMessageStatus':_0x4a1c9b,'removeAllData':_0x2f89c8,'getMessageLabels':_0x5309f7,'mostRecentMessage':_0x33b79a,'fetchImageUrl':_0x4bee9d,'fetchGroupMetadata':_0x3f791d,'fetchMessageReceipts':_0x3433b7,'toJSON':_0x47007f,'fromJSON':_0x42974c};}function a80_0x53fd(_0x423b1b,_0x2f34ff){const _0x59868d=a80_0x51d0();return a80_0x53fd=function(_0x109638,_0x19b8ad){_0x109638=_0x109638-0xa4;let _0x51d024=_0x59868d[_0x109638];if(a80_0x53fd['WYKXaD']===undefined){var _0x53fdfc=function(_0x2a1d88){const _0x552c6c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x319550='',_0x485e22='',_0x12a012=_0x319550+_0x53fdfc;for(let _0x1b84f0=0x0,_0x561263,_0xf54bc,_0x274cfd=0x0;_0xf54bc=_0x2a1d88['charAt'](_0x274cfd++);~_0xf54bc&&(_0x561263=_0x1b84f0%0x4?_0x561263*0x40+_0xf54bc:_0xf54bc,_0x1b84f0++%0x4)?_0x319550+=_0x12a012['charCodeAt'](_0x274cfd+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x561263>>(-0x2*_0x1b84f0&0x6)):_0x1b84f0:0x0){_0xf54bc=_0x552c6c['indexOf'](_0xf54bc);}for(let _0x51a765=0x0,_0x422c2b=_0x319550['length'];_0x51a765<_0x422c2b;_0x51a765++){_0x485e22+='%'+('00'+_0x319550['charCodeAt'](_0x51a765)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x485e22);};a80_0x53fd['LbUyMW']=_0x53fdfc,_0x423b1b=arguments,a80_0x53fd['WYKXaD']=!![];}const _0x9746e0=_0x59868d[0x0],_0x23cc79=_0x109638+_0x9746e0,_0x2e0a10=_0x423b1b[_0x23cc79];if(!_0x2e0a10){const _0x1befd9=function(_0xa17c64){this['VpYYLP']=_0xa17c64,this['jsCrUH']=[0x1,0x0,0x0],this['zFqEzy']=function(){return'newState';},this['piogwy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HofQfA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1befd9['prototype']['tnRgCz']=function(){const _0x3bbe26=new RegExp(this['piogwy']+this['HofQfA']),_0xddf831=_0x3bbe26['test'](this['zFqEzy']['toString']())?--this['jsCrUH'][0x1]:--this['jsCrUH'][0x0];return this['jWRxvR'](_0xddf831);},_0x1befd9['prototype']['jWRxvR']=function(_0x209ccb){if(!Boolean(~_0x209ccb))return _0x209ccb;return this['nPucPr'](this['VpYYLP']);},_0x1befd9['prototype']['nPucPr']=function(_0x54076c){for(let _0x7586cc=0x0,_0x40b2b0=this['jsCrUH']['length'];_0x7586cc<_0x40b2b0;_0x7586cc++){this['jsCrUH']['push'](Math['round'](Math['random']())),_0x40b2b0=this['jsCrUH']['length'];}return _0x54076c(this['jsCrUH'][0x0]);},new _0x1befd9(a80_0x53fd)['tnRgCz'](),_0x51d024=a80_0x53fd['LbUyMW'](_0x51d024),_0x423b1b[_0x23cc79]=_0x51d024;}else _0x51d024=_0x2e0a10;return _0x51d024;},a80_0x53fd(_0x423b1b,_0x2f34ff);}module['exports']['makeInSQLiteStore']=makeInSQLiteStore;