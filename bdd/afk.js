const a1_0x1c4942=a1_0x5271;(function(_0x465153,_0x49999f){const _0x1d4b34=a1_0x5271,_0x4dc9cb=_0x465153();while(!![]){try{const _0xe1383a=parseInt(_0x1d4b34(0x9b))/0x1*(-parseInt(_0x1d4b34(0x81))/0x2)+-parseInt(_0x1d4b34(0x88))/0x3*(-parseInt(_0x1d4b34(0x9d))/0x4)+parseInt(_0x1d4b34(0x86))/0x5*(-parseInt(_0x1d4b34(0x7e))/0x6)+parseInt(_0x1d4b34(0x87))/0x7*(parseInt(_0x1d4b34(0xa1))/0x8)+-parseInt(_0x1d4b34(0x8b))/0x9*(parseInt(_0x1d4b34(0x8c))/0xa)+-parseInt(_0x1d4b34(0xa2))/0xb*(-parseInt(_0x1d4b34(0xb0))/0xc)+-parseInt(_0x1d4b34(0x94))/0xd*(-parseInt(_0x1d4b34(0xaf))/0xe);if(_0xe1383a===_0x49999f)break;else _0x4dc9cb['push'](_0x4dc9cb['shift']());}catch(_0x18554b){_0x4dc9cb['push'](_0x4dc9cb['shift']());}}}(a1_0x507f,0x895eb));const a1_0x3468a2=(function(){const _0x20a8e9={'zUWyb':'cqHeU'};let _0x551a19=!![];return function(_0xc26a19,_0x24ff5e){const _0x5dcf8c=_0x551a19?function(){const _0x672d13=a1_0x5271,_0x3f5974={'KWxVt':_0x672d13(0x9a)};if(_0x24ff5e){if(_0x20a8e9['zUWyb']==='csmjC')return _0x176791[_0x672d13(0x9f)](_0x672d13(0xb4),_0x3d39f4),{'id':_0x148392,'etat':_0x3f5974[_0x672d13(0x82)],'message':null,'lien':'no-url'};else{const _0x133e37=_0x24ff5e['apply'](_0xc26a19,arguments);return _0x24ff5e=null,_0x133e37;}}}:function(){};return _0x551a19=![],_0x5dcf8c;};}()),a1_0xb3a769=a1_0x3468a2(this,function(){const _0x22e7ce=a1_0x5271,_0x3302a9={'pFjRB':_0x22e7ce(0x90)};return a1_0xb3a769[_0x22e7ce(0xaa)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a1_0xb3a769)[_0x22e7ce(0x99)](_0x3302a9[_0x22e7ce(0xae)]);});function a1_0x5271(_0x33e2c4,_0x552692){const _0x14b739=a1_0x507f();return a1_0x5271=function(_0xb3a769,_0x3468a2){_0xb3a769=_0xb3a769-0x7d;let _0x507ffc=_0x14b739[_0xb3a769];if(a1_0x5271['RGFLbb']===undefined){var _0x5271f3=function(_0x43fbfc){const _0x3b2c03='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x22a316='',_0x2cde72='',_0xe6a4fe=_0x22a316+_0x5271f3;for(let _0x15a410=0x0,_0x1fb211,_0x386cf6,_0x1aa10a=0x0;_0x386cf6=_0x43fbfc['charAt'](_0x1aa10a++);~_0x386cf6&&(_0x1fb211=_0x15a410%0x4?_0x1fb211*0x40+_0x386cf6:_0x386cf6,_0x15a410++%0x4)?_0x22a316+=_0xe6a4fe['charCodeAt'](_0x1aa10a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1fb211>>(-0x2*_0x15a410&0x6)):_0x15a410:0x0){_0x386cf6=_0x3b2c03['indexOf'](_0x386cf6);}for(let _0x29572e=0x0,_0xedceb=_0x22a316['length'];_0x29572e<_0xedceb;_0x29572e++){_0x2cde72+='%'+('00'+_0x22a316['charCodeAt'](_0x29572e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2cde72);};a1_0x5271['CUuXwv']=_0x5271f3,_0x33e2c4=arguments,a1_0x5271['RGFLbb']=!![];}const _0x4bb0fe=_0x14b739[0x0],_0x5a8e34=_0xb3a769+_0x4bb0fe,_0x164fd2=_0x33e2c4[_0x5a8e34];if(!_0x164fd2){const _0x1945ac=function(_0x2334a2){this['xhMXWc']=_0x2334a2,this['CZKNnw']=[0x1,0x0,0x0],this['aDWGKf']=function(){return'newState';},this['BVQvoi']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vVHYmt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1945ac['prototype']['xeMoUV']=function(){const _0x5df5f4=new RegExp(this['BVQvoi']+this['vVHYmt']),_0x7d98f=_0x5df5f4['test'](this['aDWGKf']['toString']())?--this['CZKNnw'][0x1]:--this['CZKNnw'][0x0];return this['tJMOQL'](_0x7d98f);},_0x1945ac['prototype']['tJMOQL']=function(_0x14b9bd){if(!Boolean(~_0x14b9bd))return _0x14b9bd;return this['fUFJvR'](this['xhMXWc']);},_0x1945ac['prototype']['fUFJvR']=function(_0xeab582){for(let _0x516569=0x0,_0x4bc42a=this['CZKNnw']['length'];_0x516569<_0x4bc42a;_0x516569++){this['CZKNnw']['push'](Math['round'](Math['random']())),_0x4bc42a=this['CZKNnw']['length'];}return _0xeab582(this['CZKNnw'][0x0]);},new _0x1945ac(a1_0x5271)['xeMoUV'](),_0x507ffc=a1_0x5271['CUuXwv'](_0x507ffc),_0x33e2c4[_0x5a8e34]=_0x507ffc;}else _0x507ffc=_0x164fd2;return _0x507ffc;},a1_0x5271(_0x33e2c4,_0x552692);}a1_0xb3a769();function a1_0x507f(){const _0x6397b6=['B2zM','mtKWotfLzePiuxm','u0vmrunuicOGrLjptsa','mJbWtunRs2y','BNjLwLC','Bg9N','icGkicaGicaGicbPzcbjtLrfr0vsifbssu1buLKGs0vziefvve9jtKnsru1ftLqScIaGicaGicaGzxrHDcburvHuierfrKfvtfqGj29MzICScIaGicaGicaGBwvZC2fNzsburvHulaOGicaGicaGigXPzw4GvevyvaOGicaGicaP','mtK1nZuYsuThugHJ','ode2mK1PAhLqsW','C2v0','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLiefgsZO','v1DSDfy','cIaGicaGieLou0vsvcbjtLrpia','u29Xr0K','Ewr5r20','A092r20','Dg9tDhjPBMC','vvbeqvrfia','CNvU','ChjLCgfYzq','CezQuKi','mJy3nhrqDMLjwa','mtuWotzUr2P0A1a','ifDirvjfigLKid0GpW','icHPzcWGBwvZC2fNzsWGBgLLBIKkicaGicaGvKfmvuvticG/lca/lca/kqOGicaGicbptIbdt05gteLdvcHPzcKGre8GvvbeqvrfifnfvaOGicaGicaGig1LC3nHz2uGpsbLEgnSDwrLzc5TzxnZywDLlaOGicaGicaGigXPzw4GpsbLEgnSDwrLzc5SAwvUoWOGicaG','s2PVCwe','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','BgvdCfi','mtqYnJq3nNPpr1DMDG','zxjYB3i','y2HHBMDLCW','mtrwEfPqBeC','s1D4vNq','ELzAvNu','ifnfvcbLDgf0id0GpYbxsevsrsbPzca9id8','q25RD0e','mJb0DMD5wfa','mti2Bvv4uwre','ndmXotK3s2TsruHd','AhH0wu0','BM8TDxjS','mJDyC1nlsKm','mZm4ndyXmfvLsxLpwq','zxHWB3j0CW','vfz0vxy','rxjYzxvYigXVCNmGzguGBcDHAM91DcbVDsbSysbTAxnLimoGigPVDxiGzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','kcGOlISPkYKRksSK','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia','Bw9cr2W','lI9FAw5KzxG','mZG3mtrptK56C1u','z2v0','txfAuKy','ChHfEMS','zevpyvG','C2vHCMnO'];a1_0x507f=function(){return _0x6397b6;};return a1_0x507f();}const initiatedatabase=require(a1_0x1c4942(0x93)),db=initiatedatabase(),{afkCache}=require('../framework/cache'),tableName='afk',createTableAfk=async()=>{const _0x580d86=a1_0x1c4942,_0x438953={'SoqGI':_0x580d86(0x8f),'ydyGm':function(_0x360cbc,_0x5bda83){return _0x360cbc===_0x5bda83;}};try{_0x438953[_0x580d86(0xa8)]('DrzvS',_0x580d86(0x83))?_0x5889cd[_0x580d86(0x9f)](_0x438953[_0x580d86(0xa7)],_0x1b1ad5):db['prepare']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+tableName+_0x580d86(0xa0))['run']();}catch(_0x25c55a){console[_0x580d86(0x7f)](_0x580d86(0xa4),_0x25c55a);}};createTableAfk();const addOrUpdateAfk=(_0x32d5b4,_0x3c9559,_0x3bf49d)=>{const _0x4923ad=a1_0x1c4942;try{db['prepare'](_0x4923ad(0xa6)+tableName+_0x4923ad(0xb2))['run'](_0x32d5b4,_0x3c9559,_0x3bf49d);const _0x57dc1b=afkCache[_0x4923ad(0x95)](_0x32d5b4)||{};afkCache[_0x4923ad(0xa3)](_0x32d5b4,{..._0x57dc1b,'message':_0x3c9559,'lien':_0x3bf49d});}catch(_0xd0eddf){console['log'](_0x4923ad(0x8f),_0xd0eddf);}},getAfkById=_0x3e3321=>{const _0x24f857=a1_0x1c4942,_0x58e3bf={'WWltV':_0x24f857(0x9a)};try{const _0x2aa4df=afkCache['get'](_0x3e3321);if(_0x2aa4df){if(_0x24f857(0x97)===_0x24f857(0x97))return _0x2aa4df;else{const _0x2081bf=_0x29572e?function(){if(_0x14b9bd){const _0x4cc2bd=_0x53e776['apply'](_0x220544,arguments);return _0x3d48db=null,_0x4cc2bd;}}:function(){};return _0x7d98f=![],_0x2081bf;}}const _0x1922ba=db['prepare'](_0x24f857(0x9c)+tableName+_0x24f857(0xb1))[_0x24f857(0x95)](_0x3e3321);if(_0x1922ba)return afkCache[_0x24f857(0xa3)](_0x3e3321,_0x1922ba),_0x1922ba;const _0x40fa97={'id':_0x3e3321,'etat':_0x58e3bf[_0x24f857(0xa5)],'message':null,'lien':'no-url'};return afkCache[_0x24f857(0xa3)](_0x3e3321,_0x40fa97),_0x40fa97;}catch(_0x12ee98){return console['log'](_0x24f857(0xb4),_0x12ee98),{'id':_0x3e3321,'etat':'off','message':null,'lien':_0x24f857(0x8a)};}},changeAfkState=(_0x245810,_0xe4a3e2)=>{const _0x464716=a1_0x1c4942,_0xba85bb={'hxtYM':function(_0x1f3541,_0x7157fc){return _0x1f3541(_0x7157fc);},'Kjoqa':function(_0x11313d,_0x26606b){return _0x11313d===_0x26606b;},'kOvGm':_0x464716(0x7d),'dEOaX':function(_0x349ee3,_0x406189){return _0x349ee3!==_0x406189;},'nreZW':_0x464716(0x96),'TVtUv':'Erreur\x20lors\x20du\x20changement\x20d\x27Ã©tat\x20AFK:\x20'};try{if(_0xba85bb['Kjoqa'](_0xba85bb[_0x464716(0xa9)],_0x464716(0x92))){_0x872357[_0x464716(0xad)](_0x464716(0xa6)+_0x7a4361+'\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(id)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20message\x20=\x20excluded.message,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lien\x20=\x20excluded.lien;\x0a\x20\x20\x20\x20')['run'](_0x591cc2,_0x389296,_0x47d883);const _0x5e72fe=_0x1cd2f5[_0x464716(0x95)](_0x19e191)||{};_0x9092ea[_0x464716(0xa3)](_0x37e7cc,{..._0x5e72fe,'message':_0x4ea7e2,'lien':_0x47b74d});}else{const _0x3ec0c0=db[_0x464716(0xad)]('UPDATE\x20'+tableName+'\x20SET\x20etat\x20=\x20?\x20WHERE\x20id\x20=\x20?')[_0x464716(0xac)](_0xe4a3e2,_0x245810);if(_0xba85bb[_0x464716(0xb3)](_0x3ec0c0[_0x464716(0x80)],0x0)){console[_0x464716(0x9f)](_0x464716(0x91)+_0x245810);return;}const _0x5c0109=afkCache['get'](_0x245810);if(_0x5c0109)afkCache['set'](_0x245810,{..._0x5c0109,'etat':_0xe4a3e2});else{const _0x510239=_0xba85bb['hxtYM'](getAfkById,_0x245810);if(_0x510239)afkCache['set'](_0x245810,_0x510239);}}}catch(_0x185d50){if(_0xba85bb[_0x464716(0x98)](_0x464716(0x85),_0xba85bb[_0x464716(0x9e)]))console['log'](_0xba85bb[_0x464716(0x8e)],_0x185d50);else{const _0x34f602=_0x4df54d[_0x464716(0xad)](_0x464716(0xab)+_0x164459+_0x464716(0x84))[_0x464716(0xac)](_0x311964,_0x42178a);if(_0x34f602[_0x464716(0x80)]===0x0){_0x48cc03['log'](_0x464716(0x91)+_0x300ac5);return;}const _0x3a2b14=_0x5d93e2['get'](_0x2bd333);if(_0x3a2b14)_0x56e48c['set'](_0x2e526c,{..._0x3a2b14,'etat':_0x3bdbca});else{const _0x17154c=_0xba85bb[_0x464716(0x89)](_0x40d145,_0x5cfb06);if(_0x17154c)_0x5c7e54[_0x464716(0xa3)](_0x4c0db0,_0x17154c);}}}};module[a1_0x1c4942(0x8d)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};