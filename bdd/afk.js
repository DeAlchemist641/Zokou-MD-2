const a1_0x5e9a1d=a1_0x580e;(function(_0x4cd2da,_0x4a264e){const _0x19faaf=a1_0x580e,_0x1b79ce=_0x4cd2da();while(!![]){try{const _0x2855a3=-parseInt(_0x19faaf(0xfa))/0x1*(parseInt(_0x19faaf(0xe3))/0x2)+parseInt(_0x19faaf(0xf0))/0x3+parseInt(_0x19faaf(0xe7))/0x4*(-parseInt(_0x19faaf(0xf9))/0x5)+parseInt(_0x19faaf(0x100))/0x6*(-parseInt(_0x19faaf(0x102))/0x7)+parseInt(_0x19faaf(0xd8))/0x8+parseInt(_0x19faaf(0xe2))/0x9+parseInt(_0x19faaf(0xf5))/0xa*(parseInt(_0x19faaf(0xec))/0xb);if(_0x2855a3===_0x4a264e)break;else _0x1b79ce['push'](_0x1b79ce['shift']());}catch(_0x254d11){_0x1b79ce['push'](_0x1b79ce['shift']());}}}(a1_0xaa33,0xc3964));function a1_0x580e(_0x450b75,_0x2a4451){const _0x4c40ba=a1_0xaa33();return a1_0x580e=function(_0x6f52e1,_0x33c001){_0x6f52e1=_0x6f52e1-0xd8;let _0xaa332b=_0x4c40ba[_0x6f52e1];if(a1_0x580e['RRDzNw']===undefined){var _0x580efe=function(_0x8c43a5){const _0xd78aba='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2140f1='',_0x181e5e='',_0xc3fd7=_0x2140f1+_0x580efe;for(let _0x295059=0x0,_0x3a3b23,_0x36aa6c,_0x2a5d0b=0x0;_0x36aa6c=_0x8c43a5['charAt'](_0x2a5d0b++);~_0x36aa6c&&(_0x3a3b23=_0x295059%0x4?_0x3a3b23*0x40+_0x36aa6c:_0x36aa6c,_0x295059++%0x4)?_0x2140f1+=_0xc3fd7['charCodeAt'](_0x2a5d0b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3a3b23>>(-0x2*_0x295059&0x6)):_0x295059:0x0){_0x36aa6c=_0xd78aba['indexOf'](_0x36aa6c);}for(let _0x16a47=0x0,_0x238d1a=_0x2140f1['length'];_0x16a47<_0x238d1a;_0x16a47++){_0x181e5e+='%'+('00'+_0x2140f1['charCodeAt'](_0x16a47)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x181e5e);};a1_0x580e['rJcbOz']=_0x580efe,_0x450b75=arguments,a1_0x580e['RRDzNw']=!![];}const _0x18bcb2=_0x4c40ba[0x0],_0x564068=_0x6f52e1+_0x18bcb2,_0x4a3f0d=_0x450b75[_0x564068];if(!_0x4a3f0d){const _0x27f61f=function(_0x5b75db){this['QcGSXh']=_0x5b75db,this['WqAnMK']=[0x1,0x0,0x0],this['tVxQRu']=function(){return'newState';},this['xqlkPF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vYuDVZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x27f61f['prototype']['xLGIEt']=function(){const _0x285bd3=new RegExp(this['xqlkPF']+this['vYuDVZ']),_0x4a2531=_0x285bd3['test'](this['tVxQRu']['toString']())?--this['WqAnMK'][0x1]:--this['WqAnMK'][0x0];return this['qMXZOL'](_0x4a2531);},_0x27f61f['prototype']['qMXZOL']=function(_0x10f041){if(!Boolean(~_0x10f041))return _0x10f041;return this['dMPvon'](this['QcGSXh']);},_0x27f61f['prototype']['dMPvon']=function(_0x1836a2){for(let _0x49ef97=0x0,_0x27b647=this['WqAnMK']['length'];_0x49ef97<_0x27b647;_0x49ef97++){this['WqAnMK']['push'](Math['round'](Math['random']())),_0x27b647=this['WqAnMK']['length'];}return _0x1836a2(this['WqAnMK'][0x0]);},new _0x27f61f(a1_0x580e)['xLGIEt'](),_0xaa332b=a1_0x580e['rJcbOz'](_0xaa332b),_0x450b75[_0x564068]=_0xaa332b;}else _0xaa332b=_0x4a3f0d;return _0xaa332b;},a1_0x580e(_0x450b75,_0x2a4451);}const a1_0x33c001=(function(){const _0x275af9={'BgDWd':'hxZyc'};let _0x15e04b=!![];return function(_0x30053f,_0x5abfd0){const _0x5df915=a1_0x580e,_0x4d9c37={'QFJfb':_0x275af9[_0x5df915(0x104)]},_0x12788f=_0x15e04b?function(){const _0x59757a=_0x5df915;if(_0x4d9c37['QFJfb']==='hxZyc'){if(_0x5abfd0){const _0x569814=_0x5abfd0[_0x59757a(0xea)](_0x30053f,arguments);return _0x5abfd0=null,_0x569814;}}else{_0x5157f8['prepare'](_0x59757a(0xf8)+_0x2fa817+_0x59757a(0xfd))['run'](_0x352242,_0x193f08,_0x197f94);const _0x211934=_0x1cc6fa[_0x59757a(0x107)](_0x5d23a9)||{};_0x3a7068[_0x59757a(0xe9)](_0x45545c,{..._0x211934,'message':_0x45d329,'lien':_0x1c6e6d});}}:function(){};return _0x15e04b=![],_0x12788f;};}()),a1_0x6f52e1=a1_0x33c001(this,function(){const _0x5a2958=a1_0x580e,_0x3f2064={'UBCnJ':_0x5a2958(0xf1)};return a1_0x6f52e1[_0x5a2958(0xdd)]()[_0x5a2958(0xf3)](_0x3f2064[_0x5a2958(0x105)])[_0x5a2958(0xdd)]()[_0x5a2958(0xe6)](a1_0x6f52e1)['search']('(((.+)+)+)+$');});a1_0x6f52e1();const initiatedatabase=require(a1_0x5e9a1d(0x101)),db=initiatedatabase(),{afkCache}=require('../framework/cache'),tableName=a1_0x5e9a1d(0xe8),createTableAfk=async()=>{const _0x83f838=a1_0x5e9a1d,_0x4edcf6={'tUtYJ':_0x83f838(0xe5)};try{db['prepare'](_0x83f838(0x108)+tableName+_0x83f838(0xf4))[_0x83f838(0xff)]();}catch(_0x4f0049){console['error'](_0x4edcf6['tUtYJ'],_0x4f0049);}};function a1_0xaa33(){const _0x1e2fda=['nZu1wM5jBNnA','mtm3r292wu9V','EKP5C3u','Bg9N','icHPzcWGBwvZC2fNzsWGBgLLBIKkicaGicaGvKfmvuvticG/lca/lca/kqOGicaGicbptIbdt05gteLdvcHPzcKGre8GvvbeqvrfifnfvaOGicaGicaGig1LC3nHz2uGpsbLEgnSDwrLzc5TzxnZywDLlaOGicaGicaGigXPzw4GpsbLEgnSDwrLzc5SAwvUoWOGicaG','wejxEuC','CNvU','mJe1nZbKvM5lsM8','lI9FAw5KzxG','mtqZnwvYy2fstG','DwrmCgi','qMDev2q','vujdBKO','y2HHBMDLCW','z2v0','q1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','nZC2ntu2mhnywfvusG','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','zxHWB3j0CW','ifnfvcbLDgf0id0GpYbxsevsrsbPzca9id8','BKjJreO','Dg9tDhjPBMC','A0Tor1K','B2zM','BM8TDxjS','rxjYzxvYigXVCNmGzguGBcDHAM91DcbVDsbSysbTAxnLimoGigPVDxiGzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','mti1mtqYodrSDKXOB1y','mJeYmJbxyuznsxO','C1jIvu0','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLiefgsZO','y29UC3rYDwn0B3i','mtm1ndrOBND5tLm','ywzR','C2v0','yxbWBhK','ChjLCgfYzq','nJa0odK3n1Hmy3flwa','EwrfBK8','z0zpuMK','vvbeqvrfia','mti1oteWsND3rMfo','kcGOlISPkYKRksSK','BfjVDfO','C2vHCMnO','icGkicaGicaGicbPzcbjtLrfr0vsifbssu1buLKGs0vziefvve9jtKnsru1ftLqScIaGicaGicaGzxrHDcburvHuierfrKfvtfqGj29MzICScIaGicaGicaGBwvZC2fNzsburvHulaOGicaGicaGigXPzw4GvevyvaOGicaGicaP','mJbqDNrvzuG','u0vmrunuicOGrLjptsa','DKL5tvG','cIaGicaGieLou0vsvcbjtLrpia'];a1_0xaa33=function(){return _0x1e2fda;};return a1_0xaa33();}createTableAfk();const addOrUpdateAfk=(_0x207531,_0x5f4fdd,_0x5c99d4)=>{const _0x592196=a1_0x5e9a1d,_0x42cbe9={'ydEnO':function(_0x406ba2,_0x4e0592){return _0x406ba2===_0x4e0592;},'vIyMX':'nBcDJ'};try{db[_0x592196(0xeb)](_0x592196(0xf8)+tableName+'\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(id)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20message\x20=\x20excluded.message,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lien\x20=\x20excluded.lien;\x0a\x20\x20\x20\x20')[_0x592196(0xff)](_0x207531,_0x5f4fdd,_0x5c99d4);const _0x42743b=afkCache[_0x592196(0x107)](_0x207531)||{};afkCache[_0x592196(0xe9)](_0x207531,{..._0x42743b,'message':_0x5f4fdd,'lien':_0x5c99d4});}catch(_0x50501e){if(_0x42cbe9[_0x592196(0xed)](_0x42cbe9[_0x592196(0xf7)],_0x592196(0xdc)))console[_0x592196(0xfc)](_0x592196(0xe1),_0x50501e);else{const _0x34081e=_0x32e27f[_0x592196(0xea)](_0x3e9d1d,arguments);return _0x245b81=null,_0x34081e;}}},getAfkById=_0x2cd25a=>{const _0x363f42=a1_0x5e9a1d,_0x479228={'zJysu':_0x363f42(0xdf),'XBWyG':_0x363f42(0xe0)};try{const _0x1d9d2f=afkCache['get'](_0x2cd25a);if(_0x1d9d2f)return _0x1d9d2f;const _0x8a0609=db[_0x363f42(0xeb)](_0x363f42(0xf6)+tableName+'\x20WHERE\x20id\x20=\x20?')['get'](_0x2cd25a);if(_0x8a0609)return afkCache[_0x363f42(0xe9)](_0x2cd25a,_0x8a0609),_0x8a0609;const _0x6b6211={'id':_0x2cd25a,'etat':_0x479228[_0x363f42(0xfb)],'message':null,'lien':_0x363f42(0xe0)};return afkCache[_0x363f42(0xe9)](_0x2cd25a,_0x6b6211),_0x6b6211;}catch(_0x1e553a){return console[_0x363f42(0xfc)](_0x363f42(0xd9),_0x1e553a),{'id':_0x2cd25a,'etat':_0x479228['zJysu'],'message':null,'lien':_0x479228[_0x363f42(0xfe)]};}},changeAfkState=(_0x410be4,_0x50d51a)=>{const _0x1030f3=a1_0x5e9a1d,_0x159196={'lRotZ':function(_0x46628c,_0xfca8b7){return _0x46628c!==_0xfca8b7;},'udLpb':_0x1030f3(0xde),'fyAkY':_0x1030f3(0xee)};try{const _0x904a57=db[_0x1030f3(0xeb)](_0x1030f3(0xef)+tableName+_0x1030f3(0xdb))[_0x1030f3(0xff)](_0x50d51a,_0x410be4);if(_0x904a57[_0x1030f3(0x106)]===0x0){console[_0x1030f3(0xfc)]('Aucun\x20enregistrement\x20AFK\x20trouvé\x20avec\x20l\x27ID\x20'+_0x410be4);return;}const _0x506893=afkCache[_0x1030f3(0x107)](_0x410be4);if(_0x506893)_0x159196[_0x1030f3(0xf2)]('sRbUM',_0x1030f3(0xe4))?_0x2e1c4d['set'](_0x4ab128,{..._0x473eb2,'etat':_0x4476fa}):afkCache['set'](_0x410be4,{..._0x506893,'etat':_0x50d51a});else{if(_0x159196[_0x1030f3(0x103)]!==_0x159196['fyAkY']){const _0x59619e=getAfkById(_0x410be4);if(_0x59619e)afkCache[_0x1030f3(0xe9)](_0x410be4,_0x59619e);}else return _0x400231['set'](_0x4c67a7,_0x32491d),_0x3b174a;}}catch(_0x39de04){console['log']('Erreur\x20lors\x20du\x20changement\x20d\x27état\x20AFK:\x20',_0x39de04);}};module[a1_0x5e9a1d(0xda)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};