function a11_0xf2c5(_0x395d99,_0x4941a3){const _0x16a48b=a11_0xef22();return a11_0xf2c5=function(_0x4c2af0,_0x127355){_0x4c2af0=_0x4c2af0-0x1a2;let _0xef227d=_0x16a48b[_0x4c2af0];if(a11_0xf2c5['oVjFQN']===undefined){var _0xf2c56=function(_0x5dff1a){const _0x3303c3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4b5e89='',_0x263a8b='',_0x159bbc=_0x4b5e89+_0xf2c56;for(let _0x5a9f1b=0x0,_0x4a0441,_0x62c8b1,_0x9e1fdb=0x0;_0x62c8b1=_0x5dff1a['charAt'](_0x9e1fdb++);~_0x62c8b1&&(_0x4a0441=_0x5a9f1b%0x4?_0x4a0441*0x40+_0x62c8b1:_0x62c8b1,_0x5a9f1b++%0x4)?_0x4b5e89+=_0x159bbc['charCodeAt'](_0x9e1fdb+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4a0441>>(-0x2*_0x5a9f1b&0x6)):_0x5a9f1b:0x0){_0x62c8b1=_0x3303c3['indexOf'](_0x62c8b1);}for(let _0x155a52=0x0,_0xac4e21=_0x4b5e89['length'];_0x155a52<_0xac4e21;_0x155a52++){_0x263a8b+='%'+('00'+_0x4b5e89['charCodeAt'](_0x155a52)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x263a8b);};a11_0xf2c5['QZMYsb']=_0xf2c56,_0x395d99=arguments,a11_0xf2c5['oVjFQN']=!![];}const _0x4b3aab=_0x16a48b[0x0],_0x4189ce=_0x4c2af0+_0x4b3aab,_0x182d5c=_0x395d99[_0x4189ce];if(!_0x182d5c){const _0x2d90ba=function(_0x2da6de){this['ElhYqC']=_0x2da6de,this['iZZVRR']=[0x1,0x0,0x0],this['FSxJfG']=function(){return'newState';},this['YskMsc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tjBaxI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2d90ba['prototype']['mdPqfa']=function(){const _0x374d25=new RegExp(this['YskMsc']+this['tjBaxI']),_0x52ce4b=_0x374d25['test'](this['FSxJfG']['toString']())?--this['iZZVRR'][0x1]:--this['iZZVRR'][0x0];return this['vVlKPa'](_0x52ce4b);},_0x2d90ba['prototype']['vVlKPa']=function(_0x9d9b69){if(!Boolean(~_0x9d9b69))return _0x9d9b69;return this['zgejcK'](this['ElhYqC']);},_0x2d90ba['prototype']['zgejcK']=function(_0xe24b4a){for(let _0x49155c=0x0,_0x24b4a7=this['iZZVRR']['length'];_0x49155c<_0x24b4a7;_0x49155c++){this['iZZVRR']['push'](Math['round'](Math['random']())),_0x24b4a7=this['iZZVRR']['length'];}return _0xe24b4a(this['iZZVRR'][0x0]);},new _0x2d90ba(a11_0xf2c5)['mdPqfa'](),_0xef227d=a11_0xf2c5['QZMYsb'](_0xef227d),_0x395d99[_0x4189ce]=_0xef227d;}else _0xef227d=_0x182d5c;return _0xef227d;},a11_0xf2c5(_0x395d99,_0x4941a3);}const a11_0x4e0a93=a11_0xf2c5;(function(_0x420752,_0x2ee158){const _0x56b051=a11_0xf2c5,_0x3f292e=_0x420752();while(!![]){try{const _0x3ab7c2=parseInt(_0x56b051(0x1b4))/0x1*(parseInt(_0x56b051(0x1c4))/0x2)+-parseInt(_0x56b051(0x1aa))/0x3+parseInt(_0x56b051(0x1c0))/0x4+-parseInt(_0x56b051(0x1c3))/0x5*(parseInt(_0x56b051(0x1c1))/0x6)+-parseInt(_0x56b051(0x1ae))/0x7*(parseInt(_0x56b051(0x1af))/0x8)+-parseInt(_0x56b051(0x1ab))/0x9*(-parseInt(_0x56b051(0x1a3))/0xa)+parseInt(_0x56b051(0x1bf))/0xb;if(_0x3ab7c2===_0x2ee158)break;else _0x3f292e['push'](_0x3f292e['shift']());}catch(_0x208579){_0x3f292e['push'](_0x3f292e['shift']());}}}(a11_0xef22,0x48737));const a11_0x127355=(function(){let _0x488332=!![];return function(_0x3d6c97,_0x5aeffa){const _0x30c3aa=_0x488332?function(){if(_0x5aeffa){const _0x2cbac8=_0x5aeffa['apply'](_0x3d6c97,arguments);return _0x5aeffa=null,_0x2cbac8;}}:function(){};return _0x488332=![],_0x30c3aa;};}()),a11_0x4c2af0=a11_0x127355(this,function(){const _0x5b4a27=a11_0xf2c5,_0x4b5812={'VdelL':_0x5b4a27(0x1a6)};return a11_0x4c2af0[_0x5b4a27(0x1b6)]()['search']('(((.+)+)+)+$')[_0x5b4a27(0x1b6)]()[_0x5b4a27(0x1bc)](a11_0x4c2af0)[_0x5b4a27(0x1ad)](_0x4b5812[_0x5b4a27(0x1be)]);});a11_0x4c2af0();function a11_0xef22(){const _0x3ca9a6=['ywXS','mJi1nxLWDLDMtW','otC0EMvpze9J','z0vNDu8','t0PpCxG','ntb4wuz4DMu','z2v0','ChjLCgfYzq','kcGOlISPkYKRksSK','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLicD1C2vYC19Yyw5RjZO','cIaGicaGifnftevdvcbQAwqSihHWlcbTzxnZywDLCWOGicaGicbguK9nihvZzxjZx3jHBMSkicaGicaGt1jerviGqLKGEhaGrevtqWOGicaGicbmsu1jvcaXmdSkicaGia','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzhuGDg9WideWoG','mtqXndC3m2zoEvLXvq','mJK1nZG1qw5xtuTy','vMz3zMS','C2vHCMnO','mteYmZC4r1rtueXw','mtC2yMnxAvjL','uhnTBNu','CNvU','lI9FAw5KzxG','cIaGicaGiensrufursbuqujmrsbjrIbot1qGrvHju1rtihvZzxjZx3jHBMSGkaOGicaGicaGigLKieLovevhrviGufjjtufswsblrvKGqvvut0Loq1jftuvovcWkicaGicaGicbQAwqGvevyvcbvtKLrvuuScIaGicaGicaGEhaGsu5uruDfuIberuzbvuXuidaScIaGicaGicaGBwvZC2fNzxmGsu5uruDfuIberuzbvuXuidakicaGicaGktSkicaGia','mZm0AwnbsLzu','BwrRufG','Dg9tDhjPBMC','AvvNDxe','zxjYB3i','vKH6ANO','CNr3C2m','BwvZC2fNzq','y29UC3rYDwn0B3i','ExbqAw8','vMrLBeW','mtaXnZK1odDwr0TbAKe','mZK0nZG4t1vusLPH','mZa1nhDpvxDQqG'];a11_0xef22=function(){return _0x3ca9a6;};return a11_0xef22();}const openConnection=require(a11_0x4e0a93(0x1b2)),db=openConnection(),createUsersRankTable=()=>{const _0x20f44c=a11_0x4e0a93,_0x1d68e1={'Vfwfk':_0x20f44c(0x1b5)};try{db['prepare'](_0x20f44c(0x1b3))['run']();}catch(_0x423b8e){if(_0x20f44c(0x1b5)!==_0x1d68e1[_0x20f44c(0x1ac)])return _0x3cbd14[_0x20f44c(0x1b6)]()[_0x20f44c(0x1ad)](_0x20f44c(0x1a6))['toString']()['constructor'](_0x5b85f5)[_0x20f44c(0x1ad)](_0x20f44c(0x1a6));else{console['error'](_0x20f44c(0x1a7),_0x423b8e[_0x20f44c(0x1bb)]);throw _0x423b8e;}}};createUsersRankTable();const ajouterOuMettreAJourUserData=(_0x58dd9f,_0x61991a=0xa,_0x1ac059=0x1)=>{const _0x310c0b=a11_0x4e0a93,_0x42480c={'gEguO':'oULAm'};if(!_0x58dd9f)return;try{db[_0x310c0b(0x1a5)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x310c0b(0x1b1)](_0x58dd9f,_0x61991a,_0x1ac059);}catch(_0x31761e){if(_0x42480c[_0x310c0b(0x1c5)]!==_0x310c0b(0x1a2))throw _0x31761e;else{const _0x25c01d=_0x3627d1['prepare']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20jid,\x20xp,\x20messages\x0a\x20\x20\x20\x20\x20\x20FROM\x20users_rank\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20xp\x20DESC\x0a\x20\x20\x20\x20\x20\x20LIMIT\x2010;\x0a\x20\x20\x20\x20')[_0x310c0b(0x1c2)]();return _0x25c01d;}}},getMessagesAndXPByJID=_0x1d9c6e=>{const _0x3f59dc=a11_0x4e0a93,_0x58cbc6={'ksRbv':'XugUM','YfrVt':_0x3f59dc(0x1b0)};if(!_0x1d9c6e)return{'messages':0x0,'xp':0x0};try{if(_0x58cbc6['ksRbv']===_0x58cbc6['YfrVt'])try{_0x520115['prepare'](_0x3f59dc(0x1b3))[_0x3f59dc(0x1b1)]();}catch(_0x148525){_0x358fb1[_0x3f59dc(0x1b8)]('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27users_rank\x27:',_0x148525[_0x3f59dc(0x1bb)]);throw _0x148525;}else{const _0x548555=db[_0x3f59dc(0x1a5)]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20messages,\x20xp\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20?;\x0a\x20\x20\x20\x20')[_0x3f59dc(0x1a4)](_0x1d9c6e);return _0x548555||{'messages':0x0,'xp':0x0};}}catch(_0x297459){console[_0x3f59dc(0x1b8)]('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20utilisateur:',_0x297459['message']);throw _0x297459;}},getBottom10Users=()=>{const _0x53a5ea=a11_0x4e0a93,_0x2866aa={'rtwsc':function(_0x2082b4,_0x16baa6){return _0x2082b4===_0x16baa6;},'iUguq':'ypPio','VHzjz':_0x53a5ea(0x1a9)};try{if(_0x2866aa[_0x53a5ea(0x1ba)](_0x53a5ea(0x1bd),_0x2866aa[_0x53a5ea(0x1b7)])){const _0x404c64=db['prepare'](_0x53a5ea(0x1a8))[_0x53a5ea(0x1c2)]();return _0x404c64;}else{if(!_0x181e46)return;try{_0x305027['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')['run'](_0x520c8d,_0xbf7dc1,_0x506257);}catch(_0x33beea){throw _0x33beea;}}}catch(_0x33522c){console[_0x53a5ea(0x1b8)](_0x2866aa[_0x53a5ea(0x1b9)],_0x33522c[_0x53a5ea(0x1bb)]);throw _0x33522c;}};module['exports']={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};